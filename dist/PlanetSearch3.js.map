{"version":3,"sources":["webpack://PlanetSearch3/./UI/planet/InfoBar.js","webpack://PlanetSearch3/./gameObjects/Utils/State.js","webpack://PlanetSearch3/./gameObjects/Utils/StateMachine.js","webpack://PlanetSearch3/./gameObjects/Utils/TurnManager.js","webpack://PlanetSearch3/./gameObjects/Utils/timer.js","webpack://PlanetSearch3/./gameObjects/Utils/trig.js","webpack://PlanetSearch3/./gameObjects/planet/GameObject.js","webpack://PlanetSearch3/./gameObjects/planet/Lifeform.js","webpack://PlanetSearch3/./gameObjects/planet/Player.js","webpack://PlanetSearch3/./gameObjects/planet/StaticGameObject.js","webpack://PlanetSearch3/./gameObjects/planet/Water.js","webpack://PlanetSearch3/./gameObjects/space/Bullet.js","webpack://PlanetSearch3/./gameObjects/space/Crest.js","webpack://PlanetSearch3/./gameObjects/space/EnemyShip.js","webpack://PlanetSearch3/./gameObjects/space/HyperBeamerSType.js","webpack://PlanetSearch3/./gameObjects/space/HyperBeamerShip.js","webpack://PlanetSearch3/./gameObjects/space/Nebula.js","webpack://PlanetSearch3/./gameObjects/space/Planet.js","webpack://PlanetSearch3/./gameObjects/space/PlayerShip.js","webpack://PlanetSearch3/./gameObjects/space/Ship.js","webpack://PlanetSearch3/./gameObjects/space/Shrapnel.js","webpack://PlanetSearch3/./gameObjects/space/SpaceGameObject.js","webpack://PlanetSearch3/./gameObjects/space/XPStar.js","webpack://PlanetSearch3/./logger.js","webpack://PlanetSearch3/./mapSystem/space/ExplorationTracker.js","webpack://PlanetSearch3/./mapSystem/space/MapExplorer.js","webpack://PlanetSearch3/./mapSystem/space/MiniMapSystem.js","webpack://PlanetSearch3/./scenes/EntryScene.js","webpack://PlanetSearch3/./scenes/planet/BlockIndexes.js","webpack://PlanetSearch3/./scenes/planet/PlanetBackScene.js","webpack://PlanetSearch3/./scenes/planet/PlanetEffectsScene.js","webpack://PlanetSearch3/./scenes/planet/PlanetLoaderScene.js","webpack://PlanetSearch3/./scenes/planet/PlanetLogicScene.js","webpack://PlanetSearch3/./scenes/planet/PlanetScene.js","webpack://PlanetSearch3/./scenes/planet/PlanetUIScene.js","webpack://PlanetSearch3/./scenes/space/SpaceCameraControllerScene.js","webpack://PlanetSearch3/./scenes/space/SpaceDebugScene.js","webpack://PlanetSearch3/./scenes/space/SpaceEffectsScene.js","webpack://PlanetSearch3/./scenes/space/SpaceGrid.js","webpack://PlanetSearch3/./scenes/space/SpaceLogicScene.js","webpack://PlanetSearch3/./scenes/space/SpaceMapScene.js","webpack://PlanetSearch3/./scenes/space/SpaceScene.js","webpack://PlanetSearch3/./scenes/space/SpaceUIDebugScene.js","webpack://PlanetSearch3/./scenes/space/SpaceUIScene.js","webpack://PlanetSearch3/./scenes/space/StarSceneControllerScene.js","webpack://PlanetSearch3/webpack/bootstrap","webpack://PlanetSearch3/./index.js"],"names":[],"mappings":";;;;;;;;;;;AAAa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,mC;;;;;;;;;;ACpCa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,iC;;;;;;;;;;ACrBa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,wC;;;;;;;;;;AClEa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,uC;;;;;;;;;;AClCa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,iC;;;;;;;;;;AC3Ba;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,gC;;;;;;;;;;ACpBa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,sC;;;;;;;;;;AC/Ba;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,mBAAmB,mBAAO,CAAC,wDAAc;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD,eAAe;AACf,oC;;;;;;;;;;AChIa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,iBAAiB,mBAAO,CAAC,oDAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,0BAA0B;AAChD;AACA,SAAS;AACT;AACA;AACA,sBAAsB,0BAA0B,GAAG,0BAA0B,GAAG,0BAA0B,GAAG,0BAA0B;AACvI;AACA;AACA,SAAS;AACT;AACA;AACA,sBAAsB,0BAA0B,GAAG,0BAA0B,GAAG,0BAA0B,GAAG,0BAA0B;AACvI;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,kC;;;;;;;;;;ACpLa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,4C;;;;;;;;;;AC/Ba;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,yBAAyB,mBAAO,CAAC,oEAAoB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,iC;;;;;;;;;;AChCa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,cAAc,mBAAO,CAAC,oDAAgB;AACtC,aAAa,mBAAO,CAAC,kDAAe;AACpC,wBAAwB,mBAAO,CAAC,iEAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,kC;;;;;;;;;;ACxFa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,cAAc,mBAAO,CAAC,oDAAgB;AACtC,wBAAwB,mBAAO,CAAC,iEAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,iC;;;;;;;;;;ACpEa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,cAAc,mBAAO,CAAC,oDAAgB;AACtC,aAAa,mBAAO,CAAC,2CAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb,mCAAmC,cAAc,EAAE;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mDAAmD,aAAa;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,qC;;;;;;;;;;ACrIa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,wBAAwB,mBAAO,CAAC,iEAAmB;AACnD,cAAc,mBAAO,CAAC,oDAAgB;AACtC,qBAAqB,mBAAO,CAAC,kEAAuB;AACpD,aAAa,mBAAO,CAAC,kDAAe;AACpC,eAAe,mBAAO,CAAC,+CAAU;AACjC,oBAAoB,mBAAO,CAAC,gEAAsB;AAClD,cAAc,mBAAO,CAAC,oDAAgB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,6BAA6B,GAAG,6BAA6B;AACnF;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA4F,iEAAiE,EAAE;AAC/J,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iCAAiC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iCAAiC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,4C;;;;;;;;;;ACxNa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,kBAAkB,mBAAO,CAAC,qDAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,2C;;;;;;;;;;AC1Ba;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,wBAAwB,mBAAO,CAAC,iEAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,kC;;;;;;;;;;AC/Ba;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,wBAAwB,mBAAO,CAAC,iEAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,kC;;;;;;;;;;AC5Ca;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,cAAc,mBAAO,CAAC,oDAAgB;AACtC,aAAa,mBAAO,CAAC,kDAAe;AACpC,eAAe,mBAAO,CAAC,+CAAU;AACjC,aAAa,mBAAO,CAAC,2CAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,oBAAoB,qBAAqB;AACzC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,sC;;;;;;;;;;ACvOa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,aAAa,mBAAO,CAAC,kDAAe;AACpC,wBAAwB,mBAAO,CAAC,iEAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,gC;;;;;;;;;;ACpHa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,wBAAwB,mBAAO,CAAC,iEAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,oC;;;;;;;;;;AC5Ba;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA,qCAAqC,0BAA0B;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,2C;;;;;;;;;;AC/Ca;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,cAAc,mBAAO,CAAC,oDAAgB;AACtC,wBAAwB,mBAAO,CAAC,iEAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,kC;;;;;;;;;;ACvEa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,kC;;;;;;;;;;ACZa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,cAAc,mBAAO,CAAC,mEAA+B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,8C;;;;;;;;;;ACvFa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,uC;;;;;;;;;;ACpIa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,oCAAoC;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,oCAAoC;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,yC;;;;;;;;;;ACjEa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,sC;;;;;;;;;;AC7Ca;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,wC;;;;;;;;;;AC3Ba;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,wBAAwB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,2C;;;;;;;;;;ACrEa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,qBAAqB,mBAAO,CAAC,uDAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,8C;;;;;;;;;;AChGa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,eAAe,mBAAO,CAAC,uEAAiC;AACxD,eAAe,mBAAO,CAAC,iCAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,0CAA0C,EAAE;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,kBAAkB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,iBAAiB;AACjB;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,6C;;;;;;;;;;AClMa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,eAAe,mBAAO,CAAC,uEAAiC;AACxD,cAAc,mBAAO,CAAC,qEAAgC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,SAAS;AACvC;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA4F,kCAAkC;AAC9H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,iEAAiE;AAC1G;AACA;AACA,+FAA+F,iBAAiB;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,4C;;;;;;;;;;AC3Fa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,uC;;;;;;;;;;ACnDa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,gBAAgB,mBAAO,CAAC,uDAAyB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,yC;;;;;;;;;;ACpCa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,sD;;;;;;;;;;ACrKa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,2C;;;;;;;;;;ACnCa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,6C;;;;;;;;;;AC7Ba;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B,iCAAiC,EAAE;AACnC,kCAAkC,EAAE;AACpC,4CAA4C,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,qC;;;;;;;;;;ACnLa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,mBAAmB,mBAAO,CAAC,6EAAoC;AAC/D,eAAe,mBAAO,CAAC,qEAAgC;AACvD,eAAe,mBAAO,CAAC,qEAAgC;AACvD,yBAAyB,mBAAO,CAAC,yFAA0C;AAC3E,iBAAiB,mBAAO,CAAC,yEAAkC;AAC3D,eAAe,mBAAO,CAAC,qEAAgC;AACvD,cAAc,mBAAO,CAAC,mEAA+B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,2BAA2B,8BAA8B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD,eAAe;AACf,2C;;;;;;;;;;AC7Ga;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,2BAA2B,mBAAO,CAAC,yFAA0C;AAC7E,oBAAoB,mBAAO,CAAC,2EAAmC;AAC/D,sBAAsB,mBAAO,CAAC,+EAAqC;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,yC;;;;;;;;;;ACnFa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D,kBAAkB,mBAAO,CAAC,gDAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF,kCAAkC;AACrH,uFAAuF,kCAAkC;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,sC;;;;;;;;;;ACtNa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,6C;;;;;;;;;;AC1Ca;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,wC;;;;;;;;;;AChDa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA6C,CAAC,cAAc,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,eAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,4BAA4B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,oD;;;;;;UC9DA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;;ACrBa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,mBAAmB,mBAAO,CAAC,mDAAqB;AAChD,mBAAmB,mBAAO,CAAC,+DAA2B;AACtD,mCAAmC,mBAAO,CAAC,+FAA2C;AACtF,wBAAwB,mBAAO,CAAC,yEAAgC;AAChE,0BAA0B,mBAAO,CAAC,6EAAkC;AACpE,iCAAiC,mBAAO,CAAC,2FAAyC;AAClF,wBAAwB,mBAAO,CAAC,yEAAgC;AAChE,oBAAoB,mBAAO,CAAC,mEAA6B;AACzD,yBAAyB,mBAAO,CAAC,6EAAkC;AACnE,2BAA2B,mBAAO,CAAC,iFAAoC;AACvE,sBAAsB,mBAAO,CAAC,uEAA+B;AAC7D,wBAAwB,mBAAO,CAAC,2EAAiC;AACjE,0BAA0B,mBAAO,CAAC,+EAAmC;AACrE,qBAAqB,mBAAO,CAAC,mEAA6B;AAC1D,0BAA0B,mBAAO,CAAC,6EAAkC;AACpE,sBAAsB,mBAAO,CAAC,qEAA8B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC","file":"PlanetSearch3.js","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar InfoBar = (function () {\r\n    function InfoBar(scene) {\r\n        this.scene = scene;\r\n        this.graphics = scene.add.graphics();\r\n        this.graphics.fillStyle(0x000000, 0.4);\r\n        this.graphics.fillRect(0, 0, 800, 25);\r\n        this.hpBarGraphics = scene.add.graphics();\r\n        this.initialized = false;\r\n    }\r\n    InfoBar.prototype.init = function () {\r\n        this.initialized = true;\r\n        this.playerHpText = this.scene.add.text(20, 5, \"HP: ? / ?\", {\r\n            fontSize: \"18px\",\r\n            align: \"left\"\r\n        });\r\n    };\r\n    InfoBar.prototype.update = function () {\r\n        if (!this.initialized) {\r\n            return;\r\n        }\r\n        var playerStats = this.scene.scene.get(\"planetLogic\").getPlayerStats();\r\n        var hp = playerStats.hp;\r\n        var maxHp = playerStats.maxHp;\r\n        this.playerHpText.setText(\"HP: \" + hp.toFixed(0) + \" / \" + maxHp);\r\n        var hpBarWidth = 200;\r\n        this.hpBarGraphics.clear();\r\n        this.hpBarGraphics.fillStyle(0x000000, 0.5);\r\n        this.hpBarGraphics.fillRect(0, 0, hpBarWidth, 25);\r\n        this.hpBarGraphics.fillStyle(0x58DA12);\r\n        this.hpBarGraphics.fillRect(0, 0, (hp * hpBarWidth / maxHp), 25);\r\n    };\r\n    return InfoBar;\r\n}());\r\nexports.default = InfoBar;\r\n//# sourceMappingURL=InfoBar.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar State = (function () {\r\n    function State() {\r\n        this.on = false;\r\n    }\r\n    State.prototype.start = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n    };\r\n    State.prototype.stop = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n    };\r\n    return State;\r\n}());\r\nexports.default = State;\r\n//# sourceMappingURL=State.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar StateMachine = (function () {\r\n    function StateMachine(states) {\r\n        this.states = states;\r\n    }\r\n    StateMachine.prototype.startMultiple = function () {\r\n        var _this = this;\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        Array.prototype.slice.call(arguments).forEach(function (key) {\r\n            _this.start(key);\r\n        });\r\n    };\r\n    StateMachine.prototype.start = function (key, args) {\r\n        var state = this.states[key];\r\n        state.on = true;\r\n        state.start.apply(state, args);\r\n    };\r\n    ;\r\n    StateMachine.prototype.emit = function (name, args) {\r\n        for (var i in this.states) {\r\n            var state = this.states[i];\r\n            if (state.on && state[name] !== undefined) {\r\n                state[name].apply(state, args);\r\n            }\r\n        }\r\n    };\r\n    StateMachine.prototype.emitState = function (stateName, name, args) {\r\n        var state = this.states[stateName];\r\n        if (state.on && state[name] !== undefined) {\r\n            state[name].apply(state, args);\r\n        }\r\n    };\r\n    StateMachine.prototype.getState = function (key) {\r\n        return this.states[key];\r\n    };\r\n    StateMachine.prototype.stopAll = function () {\r\n        for (var i in this.states) {\r\n            var state = this.states[i];\r\n            state.on = false;\r\n            state.stop();\r\n        }\r\n        ;\r\n    };\r\n    StateMachine.prototype.stopMultiple = function () {\r\n        var _this = this;\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        Array.prototype.slice.call(arguments).forEach(function (key) {\r\n            _this.stop(key);\r\n        });\r\n    };\r\n    StateMachine.prototype.stop = function (key, args) {\r\n        var state = this.states[key];\r\n        state.on = false;\r\n        state.stop.call(state, args);\r\n    };\r\n    ;\r\n    return StateMachine;\r\n}());\r\nexports.default = StateMachine;\r\n//# sourceMappingURL=StateMachine.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TurnManager = (function () {\r\n    function TurnManager(followObject) {\r\n        this.targetAngle = 0;\r\n        this.turning = false;\r\n        this.followObject = followObject;\r\n    }\r\n    TurnManager.prototype.startTurning = function (angle, callback) {\r\n        this.targetAngle = Phaser.Math.Wrap(angle, -180, 180);\r\n        this.callback = callback || function () { };\r\n        this.turning = true;\r\n    };\r\n    TurnManager.prototype.isTurning = function () {\r\n        return this.turning;\r\n    };\r\n    TurnManager.prototype.update = function () {\r\n        if (!this.turning) {\r\n            return;\r\n        }\r\n        var followObject = this.followObject;\r\n        var angleDiff = Phaser.Math.Wrap(this.targetAngle - followObject.angle, 0, 360);\r\n        if (Math.abs(angleDiff) <= followObject.angleVel || followObject.angle === this.targetAngle) {\r\n            followObject.angle = this.targetAngle;\r\n            followObject.turnDir = \"\";\r\n            this.turning = false;\r\n            this.callback();\r\n            return;\r\n        }\r\n        followObject.turnDir = (angleDiff > 180) ? \"left\" : \"right\";\r\n    };\r\n    return TurnManager;\r\n}());\r\nexports.default = TurnManager;\r\n//# sourceMappingURL=TurnManager.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar timer = function (start, interval, func, scope, args) {\r\n    var startTime = performance.now();\r\n    var called = !start;\r\n    var update = function () {\r\n        if (!called && performance.now() - startTime > interval) {\r\n            called = true;\r\n            return func.apply(scope, args);\r\n        }\r\n    };\r\n    var reset = function (newInterval, _args) {\r\n        if (newInterval !== undefined) {\r\n            interval = newInterval;\r\n        }\r\n        if (_args !== undefined) {\r\n            args = _args;\r\n        }\r\n        startTime = performance.now();\r\n        called = false;\r\n    };\r\n    return {\r\n        update: update,\r\n        reset: reset\r\n    };\r\n};\r\nexports.default = timer;\r\n//# sourceMappingURL=timer.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar trig = (function () {\r\n    function trig() {\r\n    }\r\n    trig.cos = function (angle) {\r\n        return Math.cos(angle * Phaser.Math.DEG_TO_RAD);\r\n    };\r\n    trig.sin = function (angle) {\r\n        return Math.sin(angle * Phaser.Math.DEG_TO_RAD);\r\n    };\r\n    trig.tan = function (angle) {\r\n        return Math.sin(angle * Phaser.Math.DEG_TO_RAD);\r\n    };\r\n    trig.atan2 = function (y, x) {\r\n        return Math.atan2(x, y) * Phaser.Math.RAD_TO_DEG;\r\n    };\r\n    return trig;\r\n}());\r\nexports.default = trig;\r\n//# sourceMappingURL=trig.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar GameObject = (function (_super) {\r\n    __extends(GameObject, _super);\r\n    function GameObject(scene, x, y, texture, frame, solid) {\r\n        var _this = _super.call(this, scene, x, y, texture, frame) || this;\r\n        scene.add.existing(_this);\r\n        return _this;\r\n    }\r\n    GameObject.prototype.onCollide = function (object) {\r\n    };\r\n    GameObject.prototype.onOverlap = function (object) {\r\n    };\r\n    GameObject.prototype.processCollision = function (object) {\r\n    };\r\n    return GameObject;\r\n}(Phaser.Physics.Arcade.Sprite));\r\nexports.default = GameObject;\r\n//# sourceMappingURL=GameObject.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar GameObject_1 = require(\"./GameObject\");\r\nvar Lifeform = (function (_super) {\r\n    __extends(Lifeform, _super);\r\n    function Lifeform(scene, x, y, texture, frame) {\r\n        var _this = _super.call(this, scene, x, y, texture, frame) || this;\r\n        _this.hp = 2;\r\n        _this.maxHp = 2;\r\n        _this.damage = 1;\r\n        _this.isLifeform = true;\r\n        _this.physics = {\r\n            jumpSpeed: 80,\r\n            jumpHeight: 367,\r\n            swimSpeed: new Phaser.Math.Vector2(40, 40),\r\n            accelerationX: {\r\n                onGround: 420,\r\n                inAir: 360,\r\n                inLiquid: 30\r\n            },\r\n            drag: new Phaser.Math.Vector2(300, 160),\r\n            maxVelocity: new Phaser.Math.Vector2(156, 480),\r\n        };\r\n        _this.inLiquid = false;\r\n        _this.isJumping = false;\r\n        _this.onEdgeOfLiquid = false;\r\n        _this.dead = false;\r\n        scene.physics.add.existing(_this);\r\n        _this.updatePhysics();\r\n        return _this;\r\n    }\r\n    Lifeform.prototype.getDamage = function (object) {\r\n        return this.damage;\r\n    };\r\n    Lifeform.prototype.takeDamage = function (object) {\r\n        this.hp -= object.getDamage(this);\r\n    };\r\n    Lifeform.prototype.updatePhysics = function () {\r\n        var _a = this.physics, drag = _a.drag, maxVelocity = _a.maxVelocity;\r\n        this.setDrag(drag.x, drag.y).setMaxVelocity(maxVelocity.x, maxVelocity.y);\r\n    };\r\n    Lifeform.prototype.resetPhysics = function () {\r\n    };\r\n    Lifeform.prototype.preUpdate = function (time, delta) {\r\n        if (this.dead) {\r\n            return;\r\n        }\r\n        _super.prototype.preUpdate.call(this, time, delta);\r\n        var _a = this.physics, accelerationX = _a.accelerationX, swimSpeed = _a.swimSpeed, jumpSpeed = _a.jumpSpeed, jumpHeight = _a.jumpHeight;\r\n        var onGround = this.body.blocked.down;\r\n        var acceleration = onGround ? accelerationX.onGround : accelerationX.inAir;\r\n        if (this.inLiquid) {\r\n            acceleration = accelerationX.inLiquid;\r\n            this.setDrag(400, 400);\r\n            this.setGravityY(0);\r\n            this.setMaxVelocity(100, 100);\r\n        }\r\n        else {\r\n            this.updatePhysics();\r\n        }\r\n        if (this.controls.left()) {\r\n            this.setAccelerationX(-acceleration);\r\n        }\r\n        if (this.controls.right()) {\r\n            this.setAccelerationX(acceleration);\r\n        }\r\n        if (!this.controls.left() && !this.controls.right()) {\r\n            this.setAccelerationX(0);\r\n        }\r\n        if (this.inLiquid) {\r\n            if (this.controls.up()) {\r\n                this.setVelocityY(-swimSpeed.y);\r\n            }\r\n            if (this.controls.down()) {\r\n                this.setVelocityY(swimSpeed.y);\r\n            }\r\n        }\r\n        else {\r\n            if (this.controls.up()) {\r\n                if (onGround) {\r\n                    this.isJumping = true;\r\n                }\r\n            }\r\n            else {\r\n                this.isJumping = false;\r\n            }\r\n            if (this.isJumping) {\r\n                this.body.velocity.y -= jumpSpeed;\r\n                if (this.body.velocity.y < -jumpHeight) {\r\n                    this.isJumping = false;\r\n                }\r\n            }\r\n        }\r\n        this.inLiquid = false;\r\n        this.onEdgeOfLiquid = false;\r\n        if (this.y > this.scene.cameras.main.getBounds().height + this.body.halfHeight) {\r\n            this.kill(\"fellOff\");\r\n        }\r\n        else if (this.hp <= 0) {\r\n            this.kill(\"noHp\");\r\n        }\r\n    };\r\n    Lifeform.prototype.isDead = function () {\r\n        return this.dead;\r\n    };\r\n    Lifeform.prototype.kill = function (reason) {\r\n        var _this = this;\r\n        this.dead = true;\r\n        this.scene.time.delayedCall(0, function () {\r\n            _this.destroy();\r\n        });\r\n    };\r\n    return Lifeform;\r\n}(GameObject_1.default));\r\nexports.default = Lifeform;\r\n//# sourceMappingURL=Lifeform.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Lifeform_1 = require(\"./Lifeform\");\r\nvar Player = (function (_super) {\r\n    __extends(Player, _super);\r\n    function Player(scene, x, y) {\r\n        var _this = _super.call(this, scene, x, y, \"Player\", 0) || this;\r\n        _this.isLifeform = true;\r\n        _this.inWater = false;\r\n        _this.blinking = false;\r\n        _this.blinkTime = 1000;\r\n        _this.blinkSpeed = 100;\r\n        _this.enemyBounce = 160;\r\n        _this.maxHp = _this.hp = 5;\r\n        _this.damage = 1;\r\n        _this.setCollideWorldBounds(true);\r\n        scene.anims.create({\r\n            key: \"idle\",\r\n            frames: [{ key: \"Player\", frame: 0 }],\r\n            frameRate: 20\r\n        });\r\n        scene.anims.create({\r\n            key: \"left\",\r\n            frames: [{ key: \"Player\", frame: 4 }, { key: \"Player\", frame: 5 }, { key: \"Player\", frame: 6 }, { key: \"Player\", frame: 7 }],\r\n            frameRate: 8,\r\n            repeat: -1\r\n        });\r\n        scene.anims.create({\r\n            key: \"right\",\r\n            frames: [{ key: \"Player\", frame: 0 }, { key: \"Player\", frame: 1 }, { key: \"Player\", frame: 2 }, { key: \"Player\", frame: 3 }],\r\n            frameRate: 8,\r\n            repeat: -1\r\n        });\r\n        _this.keys = {\r\n            a: scene.input.keyboard.addKey('a'),\r\n            d: scene.input.keyboard.addKey('d'),\r\n            w: scene.input.keyboard.addKey('w'),\r\n            s: scene.input.keyboard.addKey('s'),\r\n            left: scene.input.keyboard.addKey(\"left\"),\r\n            right: scene.input.keyboard.addKey(\"right\"),\r\n            up: scene.input.keyboard.addKey(\"up\"),\r\n            down: scene.input.keyboard.addKey(\"down\"),\r\n            r: scene.input.keyboard.addKey('r'),\r\n        };\r\n        _this.controls = {\r\n            left: function () {\r\n                return _this.keys.a.isDown || _this.keys.left.isDown;\r\n            },\r\n            right: function () {\r\n                return _this.keys.d.isDown || _this.keys.right.isDown;\r\n            },\r\n            up: function () {\r\n                return _this.keys.w.isDown || _this.keys.up.isDown;\r\n            },\r\n            down: function () {\r\n                return _this.keys.s.isDown || _this.keys.down.isDown;\r\n            },\r\n            activate: function () {\r\n                return _this.keys.s.isDown || _this.keys.down.isDown;\r\n            },\r\n            restart: function () {\r\n                return _this.keys.r.isDown;\r\n            }\r\n        };\r\n        _this.activate = function () {\r\n            return this.controls.activate();\r\n        };\r\n        _this.blinkTimer = _this.scene.time.addEvent({\r\n            delay: _this.blinkSpeed,\r\n            callback: function () {\r\n                _this.setVisible(!_this.visible);\r\n            },\r\n            repeat: -1\r\n        });\r\n        _this.blinkTimer.paused = true;\r\n        return _this;\r\n    }\r\n    Player.prototype.getStats = function () {\r\n        return {\r\n            hp: this.hp,\r\n            maxHp: this.maxHp,\r\n        };\r\n    };\r\n    Player.prototype.setStats = function (stats) {\r\n        this.hp = stats.hp;\r\n        this.maxHp = stats.maxHp;\r\n    };\r\n    Player.prototype.setCurrentState = function (info) {\r\n        this.hp = info.hp;\r\n        this.maxHp = info.maxHp;\r\n        this.checkpointGoto = info.checkpointGoto;\r\n    };\r\n    Player.prototype.getCurrentState = function () {\r\n        return {\r\n            hp: this.hp,\r\n            maxHp: this.maxHp,\r\n            checkpointGoto: this.checkpointGoto\r\n        };\r\n    };\r\n    Player.prototype.takeDamage = function (object, blink) {\r\n        if (blink === undefined) {\r\n            blink = true;\r\n        }\r\n        if (!this.blinking) {\r\n            this.hp -= object.getDamage(this);\r\n            if (blink) {\r\n                this.startBlinking();\r\n            }\r\n        }\r\n    };\r\n    Player.prototype.startBlinking = function () {\r\n        var _this = this;\r\n        this.blinking = true;\r\n        this.blinkTimer.paused = false;\r\n        this.scene.time.delayedCall(this.blinkTime, function () {\r\n            _this.blinking = false;\r\n            _this.setVisible(true);\r\n            _this.blinkTimer.paused = true;\r\n        });\r\n    };\r\n    Player.prototype.preUpdate = function (time, delta) {\r\n        _super.prototype.preUpdate.call(this, time, delta);\r\n        if (Math.abs(this.body.velocity.x) < 10) {\r\n            this.anims.play(\"idle\");\r\n        }\r\n        var onGround = this.body.blocked.down;\r\n        if (this.controls.left()) {\r\n            this.looking = \"left\";\r\n        }\r\n        if (this.controls.right()) {\r\n            this.looking = \"right\";\r\n        }\r\n        switch (this.looking) {\r\n            case \"left\":\r\n                this.anims.play(\"left\", true);\r\n                break;\r\n            case \"right\":\r\n                this.anims.play(\"right\", true);\r\n                break;\r\n        }\r\n        if (this.body.blocked.left && this.looking === \"left\") {\r\n            this.anims.pause(this.anims.currentAnim.frames[0]);\r\n        }\r\n        if (this.body.blocked.right && this.looking === \"right\") {\r\n            this.anims.pause(this.anims.currentAnim.frames[0]);\r\n        }\r\n        if (!onGround) {\r\n            switch (this.looking) {\r\n                case \"left\":\r\n                    this.anims.pause(this.anims.currentAnim.frames[1]);\r\n                    break;\r\n                case \"right\":\r\n                    this.anims.pause(this.anims.currentAnim.frames[1]);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Player.prototype.kill = function () {\r\n        this.dead = true;\r\n        this.setImmovable(true);\r\n        this.setVisible(false);\r\n        this.setMaxVelocity(0);\r\n        this.blinking = false;\r\n    };\r\n    return Player;\r\n}(Lifeform_1.default));\r\nexports.default = Player;\r\n//# sourceMappingURL=Player.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar StaticGameObject = (function (_super) {\r\n    __extends(StaticGameObject, _super);\r\n    function StaticGameObject(scene, x, y, texture, frame, solid) {\r\n        var _this = _super.call(this, scene, x, y, texture, frame) || this;\r\n        scene.add.existing(_this);\r\n        return _this;\r\n    }\r\n    StaticGameObject.prototype.onCollide = function (object) {\r\n    };\r\n    StaticGameObject.prototype.onOverlap = function (object) {\r\n    };\r\n    StaticGameObject.prototype.processCollision = function (object) {\r\n    };\r\n    return StaticGameObject;\r\n}(Phaser.Physics.Arcade.Image));\r\nexports.default = StaticGameObject;\r\n//# sourceMappingURL=StaticGameObject.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar StaticGameObject_1 = require(\"./StaticGameObject\");\r\nvar Water = (function (_super) {\r\n    __extends(Water, _super);\r\n    function Water(scene, x, y) {\r\n        var _this = _super.call(this, scene, x, y, \"water\") || this;\r\n        scene.physics.add.existing(_this);\r\n        _this.setMaxVelocity(0, 0);\r\n        _this.setOrigin(0, 0);\r\n        _this.setVisible(false);\r\n        return _this;\r\n    }\r\n    Water.prototype.onOverlap = function (object) {\r\n        object.inLiquid = true;\r\n    };\r\n    return Water;\r\n}(StaticGameObject_1.default));\r\nexports.default = Water;\r\n//# sourceMappingURL=Water.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar timer_1 = require(\"../Utils/timer\");\r\nvar trig_1 = require(\"../Utils/trig\");\r\nvar SpaceGameObject_1 = require(\"./SpaceGameObject\");\r\nvar Bullet = (function (_super) {\r\n    __extends(Bullet, _super);\r\n    function Bullet(scene, x, y, texture, shootAngle, life, range, onCollide, onCollideContext) {\r\n        var _this = _super.call(this, scene, x, y, texture) || this;\r\n        _this.getType = function () {\r\n            return \"Projectile\";\r\n        };\r\n        _this.compareX = 0;\r\n        _this.compareY = 0;\r\n        _this.fading = false;\r\n        _this.range = 500;\r\n        _this.rangeSquared = 0;\r\n        _this.startFadeSquared = 0;\r\n        _this.shootAngle = shootAngle;\r\n        _this.speed = 12;\r\n        if (range !== undefined) {\r\n            _this.updateRange(range);\r\n        }\r\n        else {\r\n            _this.updateRange(_this.range);\r\n        }\r\n        _this.setDepth(0);\r\n        _this.killTimer = timer_1.default(true, life, function () {\r\n            _this.kill();\r\n        });\r\n        _this.setOnCollide(function (colData) {\r\n            if (colData.bodyA.gameObject) {\r\n                var hit = onCollide.call(onCollideContext, colData.bodyA.gameObject);\r\n                if (hit) {\r\n                    _this.kill();\r\n                    colData.bodyA.gameObject.onCollide(_this);\r\n                }\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    Bullet.prototype.setComparePosition = function (x, y) {\r\n        this.compareX = x;\r\n        this.compareY = y;\r\n    };\r\n    Bullet.prototype.updateRange = function (range) {\r\n        this.rangeSquared = range * range;\r\n        this.range = range;\r\n        var d = range - 100;\r\n        this.startFadeSquared = d * d;\r\n    };\r\n    Bullet.prototype.preUpdate = function (time, delta) {\r\n        _super.prototype.preUpdate.call(this, time, delta);\r\n        this.killTimer.update();\r\n        this.x += trig_1.default.cos(this.shootAngle) * this.speed;\r\n        this.y += trig_1.default.sin(this.shootAngle) * this.speed;\r\n        if (this.compareX !== 0 && this.compareY !== 0) {\r\n            var dx = this.x - this.compareX;\r\n            var dy = this.y - this.compareY;\r\n            var diffSquared = dx * dx + dy * dy;\r\n            if (diffSquared > this.startFadeSquared) {\r\n                this.fading = true;\r\n            }\r\n            if (this.fading) {\r\n                this.alpha *= 0.7;\r\n            }\r\n            if (this.alpha < 0.001 && diffSquared > this.rangeSquared) {\r\n                this.destroy();\r\n                this.kill();\r\n            }\r\n        }\r\n    };\r\n    return Bullet;\r\n}(SpaceGameObject_1.default));\r\nexports.default = Bullet;\r\n//# sourceMappingURL=Bullet.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar timer_1 = require(\"../Utils/timer\");\r\nvar SpaceGameObject_1 = require(\"./SpaceGameObject\");\r\nvar Crest = (function (_super) {\r\n    __extends(Crest, _super);\r\n    function Crest(scene, x, y, texture) {\r\n        var _this = _super.call(this, scene, x, y, texture) || this;\r\n        _this.startBlinkingTime = 10000;\r\n        _this.blinkInterval = 30;\r\n        _this.despawnAfterBlinkingTime = 4500;\r\n        _this.isBlinking = false;\r\n        _this.amt = 1;\r\n        _this.setAngle(Phaser.Math.RND.between(0, 180));\r\n        _this.setCollisionGroup(2);\r\n        _this.setCollidesWith(0);\r\n        _this.despawnTimer = timer_1.default(true, _this.startBlinkingTime, function () {\r\n            _this.startBlinking();\r\n        });\r\n        _this.setOnCollide(function (colData) {\r\n            if (colData.bodyA.gameObject && colData.bodyA.gameObject._arrayName === \"playerShip\") {\r\n                var playerShip = colData.bodyA.gameObject;\r\n                _this.onCollide(playerShip);\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    Crest.prototype.startBlinking = function () {\r\n        var _this = this;\r\n        if (this.isBlinking) {\r\n            return;\r\n        }\r\n        this.isBlinking = true;\r\n        this.blinkTimer = timer_1.default(true, this.blinkInterval, function () {\r\n            _this.setVisible(!_this.visible);\r\n            _this.blinkTimer.reset(_this.blinkInterval);\r\n        });\r\n        this.despawnTimer = timer_1.default(true, this.despawnAfterBlinkingTime, function () {\r\n            _this.destroy();\r\n        });\r\n    };\r\n    Crest.prototype.preUpdate = function (time, delta) {\r\n        _super.prototype.preUpdate.call(this, time, delta);\r\n        this.despawnTimer.update();\r\n        if (this.isBlinking) {\r\n            this.blinkTimer.update();\r\n        }\r\n    };\r\n    Crest.prototype.onCollide = function (playerShip) {\r\n        playerShip.collectCrests(this);\r\n        this.kill();\r\n    };\r\n    return Crest;\r\n}(SpaceGameObject_1.default));\r\nexports.default = Crest;\r\n//# sourceMappingURL=Crest.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar timer_1 = require(\"../Utils/timer\");\r\nvar Ship_1 = require(\"./Ship\");\r\nvar EnemyShip = (function (_super) {\r\n    __extends(EnemyShip, _super);\r\n    function EnemyShip(scene, x, y, texture) {\r\n        var _this = _super.call(this, scene, x, y, texture) || this;\r\n        _this.showHpBar = true;\r\n        _this.isMoving = true;\r\n        _this.isShooting = false;\r\n        _this.fovRadius = 400;\r\n        _this.fovAngle = 60;\r\n        _this.ignoreObjNames = [];\r\n        _this.visibleObjects = [];\r\n        _this.canSeeSomething = false;\r\n        _this.xpDropAmt = 3;\r\n        _this.crestDropAmt = Phaser.Math.RND.between(3, 6);\r\n        _this.turnDir = \"\";\r\n        _this.controls = {\r\n            turnLeft: function () {\r\n                return _this.turnDir === \"left\";\r\n            },\r\n            turnRight: function () {\r\n                return _this.turnDir === \"right\";\r\n            },\r\n            goForward: function () {\r\n                return _this.isMoving;\r\n            },\r\n            slowDown: function () { return false; },\r\n            shoot: function () {\r\n                return _this.isShooting;\r\n            }\r\n        };\r\n        _this.angleVel = 3;\r\n        _this.fovLookDelay = 50;\r\n        _this.lookTimer = timer_1.default(true, _this.fovLookDelay, function () {\r\n            _this.fovLook();\r\n            _this.lookTimer.reset(_this.fovLookDelay);\r\n        });\r\n        _this.fovSetup();\r\n        return _this;\r\n    }\r\n    EnemyShip.prototype.isEnemyShip = function () { return true; };\r\n    ;\r\n    EnemyShip.prototype.setFovStats = function (fovRadius, fovAngle) {\r\n        this.fovRadius = fovRadius;\r\n        this.fovAngle = fovAngle;\r\n        this.fovSetup();\r\n    };\r\n    EnemyShip.prototype.fovSetup = function () {\r\n        this.halfFovAngle = this.fovAngle / 2;\r\n        this.fovRadiusSquared = this.fovRadius * this.fovRadius;\r\n    };\r\n    EnemyShip.prototype.fovLook = function () {\r\n        var objectsInCells = [];\r\n        objectsInCells = this.scene.world.getObjectsInBox(this.x - this.fovRadius, this.y - this.fovRadius, this.x + this.fovRadius, this.y + this.fovRadius);\r\n        this.visibleObjects.length = 0;\r\n        this.canSeeSomething = false;\r\n        for (var i = 0; i < objectsInCells.length; i++) {\r\n            var object = objectsInCells[i];\r\n            if (this.ignoreObjNames.indexOf(object._arrayName) !== -1) {\r\n                continue;\r\n            }\r\n            var distanceSquared = Phaser.Math.Distance.BetweenPointsSquared(object, this);\r\n            if (distanceSquared > this.fovRadiusSquared) {\r\n                continue;\r\n            }\r\n            var angleBetween = Phaser.Math.Angle.Reverse(Phaser.Math.Angle.BetweenPoints(object, this)) * Phaser.Math.RAD_TO_DEG;\r\n            var angleDiff = Phaser.Math.Angle.ShortestBetween(this.angle - 90, angleBetween);\r\n            if (Math.abs(angleDiff) < this.halfFovAngle) {\r\n                this.canSeeSomething = true;\r\n                this.visibleObjects.push({\r\n                    gameObject: object,\r\n                    _arrayName: object._arrayName,\r\n                    angleDiff: angleDiff,\r\n                    angleBetween: angleBetween,\r\n                    distanceSquared: distanceSquared\r\n                });\r\n            }\r\n        }\r\n    };\r\n    EnemyShip.prototype.debugFov = function (graphics) {\r\n        graphics.lineStyle(10, 0x0FAB23);\r\n        graphics.fillStyle(0xBB0012, 0.4);\r\n        graphics.beginPath();\r\n        graphics.arc(this.x, this.y, this.fovRadius, (this.angle - 90 - this.halfFovAngle) * Phaser.Math.DEG_TO_RAD, (this.angle - 90 + this.halfFovAngle) * Phaser.Math.DEG_TO_RAD);\r\n        graphics.strokePath();\r\n        if (this.canSeeSomething) {\r\n            graphics.fillPath();\r\n        }\r\n    };\r\n    EnemyShip.prototype.preUpdate = function (time, delta) {\r\n        _super.prototype.preUpdate.call(this, time, delta);\r\n        this.lookTimer.update();\r\n    };\r\n    EnemyShip.prototype.onKill = function () {\r\n        this.dropXP();\r\n        this.dropCrests();\r\n    };\r\n    EnemyShip.prototype.dropXP = function () {\r\n        var spaceLogicScene = this.scene.scene.get(\"spaceLogic\");\r\n        for (var i = 0; i < this.xpDropAmt; i++) {\r\n            if (Phaser.Math.RND.frac() < 0.5) {\r\n                spaceLogicScene.addXPStar(this.x, this.y);\r\n            }\r\n            else {\r\n                spaceLogicScene.addSmallXPStar(this.x, this.y);\r\n            }\r\n        }\r\n    };\r\n    EnemyShip.prototype.dropCrests = function () {\r\n        var spaceLogicScene = this.scene.scene.get(\"spaceLogic\");\r\n        for (var i = 0; i < this.crestDropAmt; i++) {\r\n            spaceLogicScene.addCrests(this.x, this.y);\r\n        }\r\n    };\r\n    return EnemyShip;\r\n}(Ship_1.default));\r\nexports.default = EnemyShip;\r\n//# sourceMappingURL=EnemyShip.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HyperBeamerShip_1 = require(\"./HyperBeamerShip\");\r\nvar timer_1 = require(\"../Utils/timer\");\r\nvar StateMachine_1 = require(\"../Utils/StateMachine\");\r\nvar trig_1 = require(\"../Utils/trig\");\r\nvar Bullet_1 = require(\"./Bullet\");\r\nvar TurnManager_1 = require(\"../Utils/TurnManager\");\r\nvar State_1 = require(\"../Utils/State\");\r\nvar HyperBeamerSType = (function (_super) {\r\n    __extends(HyperBeamerSType, _super);\r\n    function HyperBeamerSType(scene, x, y) {\r\n        var _this_1 = _super.call(this, scene, x, y, \"greenShip\") || this;\r\n        _this_1.setCollisionGroup(1);\r\n        _this_1.setCollidesWith(0);\r\n        _this_1.bullets = scene.world.get.gameObjectArray(\"hyperBeamerSTypeGreenBullet\");\r\n        if (!_this_1.bullets) {\r\n            _this_1.bullets = scene.world.add.gameObjectArray(Bullet_1.default, \"hyperBeamerSTypeGreenBullet\");\r\n        }\r\n        _this_1.ignoreObjNames = [\"hyperBeamerSTypeGreenBullet\", \"purpleNebula\", \"grayNebula\"];\r\n        _this_1.setDepth(1).setScale(2);\r\n        scene.anims.create({\r\n            key: \"flying\",\r\n            frames: [{ key: \"greenShip\", frame: 0 }, { key: \"greenShip\", frame: 1 }],\r\n            frameRate: 8,\r\n            repeat: -1\r\n        });\r\n        _this_1.anims.play(\"flying\");\r\n        var _this = _this_1;\r\n        _this_1.turnManager = new TurnManager_1.default(_this_1);\r\n        _this_1.shootTimer = timer_1.default(true, 450, function () {\r\n            if (_this_1.isShooting) {\r\n                _this_1.shoot();\r\n            }\r\n            _this_1.shootTimer.reset();\r\n        });\r\n        var defaultMaxSpeed = _this_1.maxSpeed;\r\n        var avoidLimits = {\r\n            changeDir: 450,\r\n            slowdown: 120,\r\n            turnAround: 30,\r\n            changeDirSquared: 0,\r\n            slowdownSquared: 0,\r\n            turnAroundSquared: 0,\r\n            avoidAngleAmt: 50,\r\n        };\r\n        avoidLimits.changeDirSquared = avoidLimits.changeDir * avoidLimits.changeDir;\r\n        avoidLimits.slowdownSquared = avoidLimits.slowdown * avoidLimits.slowdown;\r\n        avoidLimits.turnAroundSquared = avoidLimits.turnAround * avoidLimits.turnAround;\r\n        var WanderState = (function (_super) {\r\n            __extends(WanderState, _super);\r\n            function WanderState() {\r\n                var _this_1 = _super !== null && _super.apply(this, arguments) || this;\r\n                _this_1.turningTowardsTarget = false;\r\n                return _this_1;\r\n            }\r\n            WanderState.prototype.randomInt = function (min, max) {\r\n                return Phaser.Math.RND.between(min, max);\r\n            };\r\n            WanderState.prototype.getNextTurnTime = function () {\r\n                return this.randomInt(1000, 3000);\r\n            };\r\n            WanderState.prototype.getNextTurnAngle = function () {\r\n                return Phaser.Math.RND.angle();\r\n            };\r\n            WanderState.prototype.start = function () {\r\n                var _this_1 = this;\r\n                this.subState = \"wander\";\r\n                _this.isShooting = false;\r\n                this.wanderTurnTimer = timer_1.default(true, this.getNextTurnTime(), function () {\r\n                    _this.turnManager.startTurning(_this_1.getNextTurnAngle(), function () { return _this_1.wanderTurnTimer.reset(_this_1.getNextTurnTime()); });\r\n                });\r\n                this.lookTimer = timer_1.default(true, 300, function () {\r\n                    _this_1.look();\r\n                    _this_1.lookTimer.reset(300);\r\n                });\r\n            };\r\n            WanderState.prototype.update = function () {\r\n                this.runSubStates();\r\n            };\r\n            WanderState.prototype.setSubState = function (state) {\r\n                if (this.subState !== state) {\r\n                    this.lastSubState = this.subState;\r\n                    this.subState = state;\r\n                }\r\n            };\r\n            WanderState.prototype.look = function () {\r\n                var _this_1 = this;\r\n                for (var i = 0; i < _this.visibleObjects.length; i++) {\r\n                    var _a = _this.visibleObjects[i], _arrayName = _a._arrayName, distanceSquared = _a.distanceSquared, angleDiff = _a.angleDiff, angleBetween = _a.angleBetween;\r\n                    switch (true) {\r\n                        case _arrayName === _this._arrayName:\r\n                        case _this.getType() === \"projectile\":\r\n                            this.subState = \"redirect\";\r\n                            if (distanceSquared > avoidLimits.changeDirSquared) {\r\n                                break;\r\n                            }\r\n                            var redirectAngle = _this.angle + avoidLimits.avoidAngleAmt * (angleDiff < 0 ? 1 : -1);\r\n                            if (distanceSquared < avoidLimits.slowdownSquared) {\r\n                                _this.maxSpeed = 2.5;\r\n                            }\r\n                            _this.turnManager.startTurning(redirectAngle, function () {\r\n                                _this_1.subState = \"wander\";\r\n                                _this.maxSpeed = defaultMaxSpeed;\r\n                                _this_1.wanderTurnTimer.reset(_this_1.getNextTurnTime());\r\n                            });\r\n                            return;\r\n                    }\r\n                }\r\n            };\r\n            WanderState.prototype.offense = function () {\r\n                var _this_1 = this;\r\n                var canSeeEnemy = false;\r\n                for (var i = 0; i < _this.visibleObjects.length; i++) {\r\n                    var _a = _this.visibleObjects[i], _arrayName = _a._arrayName, distanceSquared = _a.distanceSquared, angleDiff = _a.angleDiff, angleBetween = _a.angleBetween;\r\n                    switch (true) {\r\n                        case _arrayName === \"playerShip\":\r\n                            if (this.subState === \"wander\") {\r\n                                this.subState = \"attack\";\r\n                                _this.isShooting = true;\r\n                                canSeeEnemy = true;\r\n                                if (!this.turningTowardsTarget) {\r\n                                    var redirectAngle = _this.angle + angleDiff * 0.2;\r\n                                    this.turningTowardsTarget = true;\r\n                                    _this.turnManager.startTurning(redirectAngle, function () {\r\n                                        _this_1.turningTowardsTarget = false;\r\n                                        _this.isShooting = false;\r\n                                    });\r\n                                }\r\n                            }\r\n                            break;\r\n                    }\r\n                }\r\n                if (!canSeeEnemy) {\r\n                    this.subState = \"wander\";\r\n                    _this.isShooting = false;\r\n                    this.turningTowardsTarget = false;\r\n                }\r\n            };\r\n            WanderState.prototype.runSubStates = function () {\r\n                switch (this.subState) {\r\n                    case \"wander\":\r\n                        this.wanderTurnTimer.update();\r\n                        this.lookTimer.update();\r\n                        break;\r\n                    case \"redirect\":\r\n                        break;\r\n                    case \"attack\":\r\n                        this.lookTimer.update();\r\n                        break;\r\n                    case \"loopAround\":\r\n                        this.lookTimer.update();\r\n                        break;\r\n                    case \"evade\":\r\n                        break;\r\n                }\r\n                this.offense();\r\n            };\r\n            WanderState.prototype.stop = function () {\r\n            };\r\n            return WanderState;\r\n        }(State_1.default));\r\n        _this_1.sm = new StateMachine_1.default({\r\n            \"wander\": new WanderState()\r\n        });\r\n        _this_1.sm.start(\"wander\");\r\n        _this_1.setAngle(Phaser.Math.RND.angle());\r\n        _this_1.setFovStats(500, 70);\r\n        _this_1.isMoving = true;\r\n        _this_1.isShooting = false;\r\n        return _this_1;\r\n    }\r\n    HyperBeamerSType.prototype.preUpdate = function (time, delta) {\r\n        _super.prototype.preUpdate.call(this, time, delta);\r\n        this.sm.emit(\"update\", []);\r\n        this.turnManager.update();\r\n        this.shootTimer.update();\r\n    };\r\n    HyperBeamerSType.prototype.onCollide = function (object) {\r\n        if (object._arrayName === \"HyperBeamerSTypeBullet\") {\r\n            return;\r\n        }\r\n    };\r\n    HyperBeamerSType.prototype.shootBullet = function (theta, length, life) {\r\n        theta += this.angle - 90;\r\n        var bullet = this.bullets.add(this.scene, this.x + trig_1.default.cos(theta) * length, this.y + trig_1.default.sin(theta) * length, \"lightningBlue\", this.angle - 90, life || 2000, 3000, this.bulletOnCollide, this);\r\n        bullet.setAngle(this.angle);\r\n        bullet.setCollisionGroup(2);\r\n        bullet.setCollidesWith(0);\r\n    };\r\n    HyperBeamerSType.prototype.shoot = function () {\r\n        this.shootBullet(0, this.displayWidth / 2);\r\n    };\r\n    HyperBeamerSType.prototype.bulletOnCollide = function (gameObject) {\r\n        if (gameObject._arrayName === \"playerShip\") {\r\n            return gameObject.takeDamage(this);\r\n        }\r\n        return false;\r\n    };\r\n    HyperBeamerSType.indexId = 0;\r\n    return HyperBeamerSType;\r\n}(HyperBeamerShip_1.default));\r\nexports.default = HyperBeamerSType;\r\n//# sourceMappingURL=HyperBeamerSType.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EnemyShip_1 = require(\"./EnemyShip\");\r\nvar HyperBeamerShip = (function (_super) {\r\n    __extends(HyperBeamerShip, _super);\r\n    function HyperBeamerShip(scene, x, y, texture) {\r\n        var _this = _super.call(this, scene, x, y, texture) || this;\r\n        _this.maxSpeed = 3.75;\r\n        return _this;\r\n    }\r\n    return HyperBeamerShip;\r\n}(EnemyShip_1.default));\r\nexports.default = HyperBeamerShip;\r\n//# sourceMappingURL=HyperBeamerShip.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SpaceGameObject_1 = require(\"./SpaceGameObject\");\r\nvar Nebula = (function (_super) {\r\n    __extends(Nebula, _super);\r\n    function Nebula(scene, x, y, texture) {\r\n        var _this = _super.call(this, scene, x, y, texture) || this;\r\n        _this.setStatic(true);\r\n        _this.body.collisionFilter = {\r\n            'group': -1,\r\n            'category': 2,\r\n            'mask': 0,\r\n        };\r\n        return _this;\r\n    }\r\n    return Nebula;\r\n}(SpaceGameObject_1.default));\r\nexports.default = Nebula;\r\n//# sourceMappingURL=Nebula.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SpaceGameObject_1 = require(\"./SpaceGameObject\");\r\nvar Planet = (function (_super) {\r\n    __extends(Planet, _super);\r\n    function Planet(scene, x, y, texture) {\r\n        var _this = _super.call(this, scene, x, y, texture) || this;\r\n        _this.setScale(3);\r\n        _this.setStatic(true);\r\n        _this.body.collisionFilter = {\r\n            'group': -1,\r\n            'category': 2,\r\n            'mask': 0,\r\n        };\r\n        return _this;\r\n    }\r\n    Planet.prototype.preUpdate = function (time, delta) {\r\n        _super.prototype.preUpdate.call(this, time, delta);\r\n        this.bodyConf.update();\r\n    };\r\n    Planet.prototype.onCollide = function (object) {\r\n        if (object._arrayName === \"playerShip\") {\r\n            this.scene.scene.get(\"spaceScene\").switchToPlanetSceneGroup({\r\n                type: \"planet\",\r\n                from: this\r\n            });\r\n        }\r\n    };\r\n    return Planet;\r\n}(SpaceGameObject_1.default));\r\nexports.default = Planet;\r\n//# sourceMappingURL=Planet.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar timer_1 = require(\"../Utils/timer\");\r\nvar trig_1 = require(\"../Utils/trig\");\r\nvar Bullet_1 = require(\"./Bullet\");\r\nvar Ship_1 = require(\"./Ship\");\r\nvar PlayerShip = (function (_super) {\r\n    __extends(PlayerShip, _super);\r\n    function PlayerShip(scene, x, y) {\r\n        var _this = _super.call(this, scene, x, y, \"helixShip\", undefined) || this;\r\n        _this.hp = 10;\r\n        _this.maxHp = 10;\r\n        _this.xp = 0;\r\n        _this.nextLevelXp = 100;\r\n        _this.crests = 0;\r\n        _this.maxSpeed = 7.5;\r\n        _this.speedAcl = 0.2;\r\n        _this.speedDeacl = 0.0745;\r\n        _this.manualSpeedDeacl = 0.15;\r\n        _this.angleDeacl = 0.06;\r\n        _this.destroyOnKill = false;\r\n        _this.canShoot = true;\r\n        _this.gamepadControls = {\r\n            forward: false,\r\n            slowdown: false,\r\n        };\r\n        _this.targetAngle = 0;\r\n        _this.ignoreDestroy = true;\r\n        _this.setCollisionGroup(2);\r\n        _this.setCollidesWith(0);\r\n        _this.useAngleAcl = true;\r\n        _this.angleVel = 0;\r\n        _this.keys = {\r\n            turnLeft: scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT),\r\n            turnRight: scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT),\r\n            goForward: scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.UP),\r\n            slowdown: scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.DOWN),\r\n        };\r\n        if (!(_this.bullets = scene.world.get.gameObjectArray(\"playerShipBullet\"))) {\r\n            _this.bullets = scene.world.add.gameObjectArray(Bullet_1.default, \"playerShipBullet\");\r\n            _this.bullets.define(\"ignoreDestroy\", true);\r\n        }\r\n        var shootInterval = 200;\r\n        _this.shootLimiterTimer = timer_1.default(true, shootInterval, function () {\r\n            _this.canShoot = true;\r\n            _this.shootLimiterTimer.reset();\r\n        });\r\n        _this.particles = scene.add.particles(\"helixShipParticle\");\r\n        _this.pEmitter = _this.particles.createEmitter({\r\n            lifespan: 500,\r\n            scale: { start: 1.5, end: 0 },\r\n            rotate: 45,\r\n            x: 0,\r\n            y: 0,\r\n            quantity: 1,\r\n        });\r\n        _this.pEmitter.setAlpha(function (p, k, t) {\r\n            return 1 - t;\r\n        });\r\n        var BTNS = {\r\n            B: 0,\r\n            A: 1,\r\n            Y: 2,\r\n            X: 3,\r\n            L: 4,\r\n            R: 5,\r\n            ZL: 6,\r\n            ZR: 7,\r\n        };\r\n        if (scene.input.gamepad !== undefined &&\r\n            scene.input.gamepad.total > 0 &&\r\n            scene.input.gamepad.gamepads.length > 0) {\r\n            _this.usingGamepad = true;\r\n            _this.gamepad = scene.input.gamepad.gamepads[0];\r\n        }\r\n        scene.input.gamepad.on('connected', function (gamepad) {\r\n            this.usingGamepad = true;\r\n            this.gamepad = gamepad;\r\n        });\r\n        scene.input.gamepad.on('disconnected', function (gamepad) {\r\n            this.usingGamepad = false;\r\n            delete this.gamepad;\r\n        });\r\n        scene.input.gamepad.on('down', function (gamepad, button, value) {\r\n            if (value !== 1) {\r\n                return;\r\n            }\r\n            if (!_this.usingGamepad) {\r\n                _this.gamepad = gamepad;\r\n                _this.usingGamepad = true;\r\n            }\r\n            if (button.index === BTNS.ZL) {\r\n                _this.gamepadControls.forward = true;\r\n            }\r\n            if (button.index === BTNS.B) {\r\n                _this.gamepadControls.slowdown = true;\r\n            }\r\n        });\r\n        scene.input.gamepad.on('up', function (gamepad, button, value) {\r\n            if (value !== 0) {\r\n                return;\r\n            }\r\n            if (button.index === BTNS.ZL) {\r\n                _this.gamepadControls.forward = false;\r\n            }\r\n            if (button.index === BTNS.B) {\r\n                _this.gamepadControls.slowdown = false;\r\n            }\r\n            if ((button.index === BTNS.A || button.index === BTNS.ZR) && _this.canShoot) {\r\n                _this.shoot();\r\n                _this.canShoot = false;\r\n            }\r\n        });\r\n        _this.scene.input.keyboard.on(\"keyup-Z\", function () {\r\n            if (_this.canShoot) {\r\n                _this.shoot();\r\n                _this.canShoot = false;\r\n            }\r\n        });\r\n        _this.scene.input.keyboard.on(\"keyup-SPACE\", function () {\r\n            if (_this.canShoot) {\r\n                _this.shoot();\r\n                _this.canShoot = false;\r\n            }\r\n        });\r\n        _this.controls = {\r\n            turnLeft: function () {\r\n                return _this.keys.turnLeft.isDown;\r\n            },\r\n            turnRight: function () {\r\n                return _this.keys.turnRight.isDown;\r\n            },\r\n            goForward: function () {\r\n                return _this.keys.goForward.isDown || _this.gamepadControls.forward;\r\n            },\r\n            slowDown: function () {\r\n                return _this.keys.slowdown.isDown || _this.gamepadControls.slowdown;\r\n            },\r\n            shoot: function () {\r\n                return false;\r\n            }\r\n        };\r\n        _this.targetAngle = _this.angle;\r\n        return _this;\r\n    }\r\n    PlayerShip.prototype.resetStats = function () {\r\n        this.resetKeys();\r\n        this.killed = false;\r\n        this.hp = this.maxHp;\r\n    };\r\n    PlayerShip.prototype.resetKeys = function () {\r\n        for (var i in this.keys) {\r\n            this.keys[i].reset();\r\n        }\r\n    };\r\n    PlayerShip.prototype.getXp = function () {\r\n        return this.xp;\r\n    };\r\n    PlayerShip.prototype.getNextLevelXp = function () {\r\n        return this.nextLevelXp;\r\n    };\r\n    PlayerShip.prototype.collectCrests = function (crest) {\r\n        this.crests += crest.amt;\r\n    };\r\n    PlayerShip.prototype.collectXPStars = function (xpStar) {\r\n        this.xp += xpStar.amt;\r\n    };\r\n    PlayerShip.prototype.shoot = function () {\r\n        this.initBullet(this.angle + 30, 25);\r\n        this.initBullet(this.angle + 150, 25);\r\n        this.initBullet(this.angle - 20, 17);\r\n        this.initBullet(this.angle + 200, 17);\r\n    };\r\n    PlayerShip.prototype.initBullet = function (theta, length, life) {\r\n        var bullet = this.bullets.add(this.scene, this.x + trig_1.default.cos(theta) * length, this.y + trig_1.default.sin(theta) * length, \"lightningBlueLong\", this.angle - 90, life || 3200, 600, this.bulletOnCollide, this);\r\n        bullet.speed = 16;\r\n        bullet.setComparePosition(this.x, this.y);\r\n        bullet.setAngle(this.angle);\r\n        bullet.setCollisionGroup(1);\r\n        bullet.setCollidesWith(0);\r\n    };\r\n    PlayerShip.prototype.bulletOnCollide = function (gameObject) {\r\n        if (gameObject._arrayName === \"hyperBeamerSType\") {\r\n            return gameObject.takeDamage(this);\r\n        }\r\n        return false;\r\n    };\r\n    PlayerShip.prototype.updateGamepad = function () {\r\n        if (!this.usingGamepad || this.gamepad === undefined) {\r\n            return;\r\n        }\r\n        var gamepad = this.gamepad;\r\n        var axisX = gamepad.leftStick.x;\r\n        var axisY = gamepad.leftStick.y;\r\n        if (axisX !== 0 || axisY !== 0) {\r\n            this.targetAngle = Phaser.Math.Angle.Normalize(Math.atan2(axisY, axisX) + 90 * Phaser.Math.DEG_TO_RAD);\r\n        }\r\n        this.rotation = Phaser.Math.Angle.RotateTo(this.rotation, this.targetAngle, 0.09);\r\n    };\r\n    PlayerShip.prototype.preUpdate = function (time, delta) {\r\n        _super.prototype.preUpdate.call(this, time, delta);\r\n        this.updateGamepad();\r\n        var length = this.displayHeight * 0.4;\r\n        var refAngle = this.angle + 90;\r\n        this.particles.x = this.x + trig_1.default.cos(refAngle) * length;\r\n        this.particles.y = this.y + trig_1.default.sin(refAngle) * length;\r\n        this.pEmitter.setAngle(this.angle + 67.5 + 45 * Phaser.Math.RND.frac());\r\n        this.pEmitter.setVisible(this.speed > 0.0);\r\n        this.pEmitter.setSpeed(this.speed * 30);\r\n        this.shootLimiterTimer.update();\r\n    };\r\n    PlayerShip.prototype.onKill = function () {\r\n        _super.prototype.onKill.call(this);\r\n        this.scene.handleGameOver();\r\n    };\r\n    return PlayerShip;\r\n}(Ship_1.default));\r\nexports.default = PlayerShip;\r\n//# sourceMappingURL=PlayerShip.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar trig_1 = require(\"../Utils/trig\");\r\nvar SpaceGameObject_1 = require(\"./SpaceGameObject\");\r\nvar Ship = (function (_super) {\r\n    __extends(Ship, _super);\r\n    function Ship(scene, x, y, texture, frame) {\r\n        var _this = _super.call(this, scene, x, y, texture, frame) || this;\r\n        _this.getType = function () {\r\n            return \"Spacecraft\";\r\n        };\r\n        _this.maxHp = 10;\r\n        _this.hp = 10;\r\n        _this.damage = 1;\r\n        _this.isShip = true;\r\n        _this.usingGamepad = false;\r\n        _this.maxSpeed = 5;\r\n        _this.speedAcl = 0.5;\r\n        _this.speedDeacl = 0.05;\r\n        _this.manualSpeedDeacl = 0.35;\r\n        _this.angleAcl = 0.4;\r\n        _this.angleDeacl = 0.1;\r\n        _this.maxAngleVel = 3;\r\n        _this.useAngleAcl = false;\r\n        _this.speed = 0;\r\n        return _this;\r\n    }\r\n    Ship.prototype.takeDamage = function (object) {\r\n        this.hp -= object.getDamage();\r\n        return true;\r\n    };\r\n    Ship.prototype.getMaxHp = function () {\r\n        return this.maxHp;\r\n    };\r\n    Ship.prototype.getHp = function () {\r\n        return this.hp;\r\n    };\r\n    Ship.prototype.getDamage = function () {\r\n        return this.damage;\r\n    };\r\n    Ship.prototype.preUpdate = function (time, delta) {\r\n        _super.prototype.preUpdate.call(this, time, delta);\r\n        if (!this.usingGamepad) {\r\n            if (this.useAngleAcl) {\r\n                if (this.controls.turnLeft()) {\r\n                    this.angleVel -= this.angleAcl;\r\n                }\r\n                if (this.controls.turnRight()) {\r\n                    this.angleVel += this.angleAcl;\r\n                }\r\n                this.angleVel = Math.min(Math.max(this.angleVel, -this.maxAngleVel), this.maxAngleVel);\r\n                if (!this.controls.turnLeft() && !this.controls.turnRight()) {\r\n                    if (this.angleVel > 0) {\r\n                        this.angleVel -= this.angleDeacl;\r\n                    }\r\n                    if (this.angleVel < 0) {\r\n                        this.angleVel += this.angleDeacl;\r\n                    }\r\n                    if (this.angleVel > -this.angleDeacl && this.angleVel < this.angleDeacl) {\r\n                        this.angleVel = 0;\r\n                    }\r\n                }\r\n                this.setAngle(this.angle + this.angleVel);\r\n            }\r\n            else {\r\n                if (this.controls.turnLeft()) {\r\n                    this.setAngle(this.angle - this.angleVel);\r\n                }\r\n                if (this.controls.turnRight()) {\r\n                    this.setAngle(this.angle + this.angleVel);\r\n                }\r\n            }\r\n        }\r\n        if (this.controls.goForward()) {\r\n            this.speed += this.speedAcl;\r\n        }\r\n        else {\r\n            if (this.speed > 0) {\r\n                this.speed -= this.speedDeacl;\r\n            }\r\n            else {\r\n                this.speed = 0;\r\n            }\r\n        }\r\n        if (this.controls.slowDown()) {\r\n            if (this.speed > 0) {\r\n                this.speed -= this.manualSpeedDeacl;\r\n            }\r\n            else {\r\n                this.speed = 0;\r\n            }\r\n        }\r\n        this.speed = Math.min(this.speed, this.maxSpeed);\r\n        var angle = this.angle - 90;\r\n        this.x += trig_1.default.cos(angle) * this.speed;\r\n        this.y += trig_1.default.sin(angle) * this.speed;\r\n        if (this.hp <= 0) {\r\n            this.kill();\r\n        }\r\n    };\r\n    return Ship;\r\n}(SpaceGameObject_1.default));\r\nexports.default = Ship;\r\n//# sourceMappingURL=Ship.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SpaceGameObject_1 = require(\"./SpaceGameObject\");\r\nvar Shrapnel = (function (_super) {\r\n    __extends(Shrapnel, _super);\r\n    function Shrapnel(scene, x, y, texture) {\r\n        var _this = _super.call(this, scene, x, y, texture) || this;\r\n        _this.setCollisionGroup(2);\r\n        _this.setCollidesWith(0);\r\n        _this.setFrictionAir(0.0001);\r\n        return _this;\r\n    }\r\n    return Shrapnel;\r\n}(SpaceGameObject_1.default));\r\nexports.default = Shrapnel;\r\n//# sourceMappingURL=Shrapnel.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SpaceGameObject = (function (_super) {\r\n    __extends(SpaceGameObject, _super);\r\n    function SpaceGameObject(scene, x, y, texture, frame) {\r\n        var _this = _super.call(this, scene.matter.world, x, y, texture, frame) || this;\r\n        _this.getType = function () { return \"spaceGameObject\"; };\r\n        _this.killed = false;\r\n        _this.destroyOnKill = true;\r\n        _this.destroyQueued = false;\r\n        scene.add.existing(_this);\r\n        scene.world.initGameObject(_this);\r\n        scene.matter.world.remove(_this);\r\n        return _this;\r\n    }\r\n    SpaceGameObject.prototype.preUpdate = function (time, delta) {\r\n        this.bodyConf.update();\r\n        _super.prototype.preUpdate.call(this, time, delta);\r\n    };\r\n    SpaceGameObject.prototype.onCollide = function (object) {\r\n    };\r\n    SpaceGameObject.prototype.onKill = function () {\r\n    };\r\n    SpaceGameObject.prototype.kill = function () {\r\n        if (this.killed) {\r\n            return;\r\n        }\r\n        this.killed = true;\r\n        this.onKill();\r\n        this.destroyQueued = this.destroyOnKill;\r\n    };\r\n    return SpaceGameObject;\r\n}(Phaser.Physics.Matter.Sprite));\r\nexports.default = SpaceGameObject;\r\n//# sourceMappingURL=SpaceGameObject.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar timer_1 = require(\"../Utils/timer\");\r\nvar SpaceGameObject_1 = require(\"./SpaceGameObject\");\r\nvar XPStar = (function (_super) {\r\n    __extends(XPStar, _super);\r\n    function XPStar(scene, x, y, texture) {\r\n        var _this = _super.call(this, scene, x, y, texture) || this;\r\n        _this.startBlinkingTime = 10000;\r\n        _this.blinkInterval = 30;\r\n        _this.despawnAfterBlinkingTime = 4500;\r\n        _this.isBlinking = false;\r\n        _this.amt = 1;\r\n        _this.setAngle(Phaser.Math.RND.between(0, 180));\r\n        _this.setCollisionGroup(2);\r\n        _this.setCollidesWith(0);\r\n        _this.despawnTimer = timer_1.default(true, _this.startBlinkingTime, function () {\r\n            _this.startBlinking();\r\n        });\r\n        if (texture === \"xpStar\") {\r\n            _this.amt = 2;\r\n        }\r\n        _this.setOnCollide(function (colData) {\r\n            if (colData.bodyA.gameObject && colData.bodyA.gameObject._arrayName === \"playerShip\") {\r\n                var playerShip = colData.bodyA.gameObject;\r\n                _this.onCollide(playerShip);\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    XPStar.prototype.startBlinking = function () {\r\n        var _this = this;\r\n        if (this.isBlinking) {\r\n            return;\r\n        }\r\n        this.isBlinking = true;\r\n        this.blinkTimer = timer_1.default(true, this.blinkInterval, function () {\r\n            _this.setVisible(!_this.visible);\r\n            _this.blinkTimer.reset(_this.blinkInterval);\r\n        });\r\n        this.despawnTimer = timer_1.default(true, this.despawnAfterBlinkingTime, function () {\r\n            _this.destroy();\r\n        });\r\n    };\r\n    XPStar.prototype.preUpdate = function (time, delta) {\r\n        _super.prototype.preUpdate.call(this, time, delta);\r\n        this.despawnTimer.update();\r\n        if (this.isBlinking) {\r\n            this.blinkTimer.update();\r\n        }\r\n    };\r\n    XPStar.prototype.onCollide = function (playerShip) {\r\n        playerShip.collectXPStars(this);\r\n        this.kill();\r\n    };\r\n    return XPStar;\r\n}(SpaceGameObject_1.default));\r\nexports.default = XPStar;\r\n//# sourceMappingURL=XPStar.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar logger = {\r\n    warn: function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        console.warn.apply(console, arguments);\r\n    }\r\n};\r\nexports.default = logger;\r\n//# sourceMappingURL=logger.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar timer_1 = require(\"../../gameObjects/Utils/timer\");\r\nvar ExplorationTracker = (function () {\r\n    function ExplorationTracker(scene) {\r\n        this.active = true;\r\n        this.scene = scene;\r\n        this.spaceScene = scene.scene.get(\"space\");\r\n        this.reset();\r\n        this.graphics = scene.add.graphics();\r\n    }\r\n    ExplorationTracker.prototype.reset = function () {\r\n        var _this = this;\r\n        this.track = [];\r\n        this.updateTrackTimer = timer_1.default(true, 100, function () {\r\n            _this.updateTrack();\r\n            _this.updateTrackTimer.reset();\r\n        });\r\n        this.path = new Phaser.Curves.Path();\r\n        var world = this.spaceScene.world;\r\n        var trackingObj = world.get.gameObject(\"playerShip\", 0);\r\n        this.path.moveTo(trackingObj.body.position.x, trackingObj.body.position.y);\r\n        this.active = true;\r\n    };\r\n    ExplorationTracker.prototype.update = function () {\r\n        if (!this.active) {\r\n            return;\r\n        }\r\n        this.updateTrackTimer.update();\r\n    };\r\n    ExplorationTracker.prototype.render = function (rt) {\r\n        if (!this.active) {\r\n            return;\r\n        }\r\n        this.renderTracks(rt);\r\n    };\r\n    ExplorationTracker.prototype.renderTracks = function (rt) {\r\n        var graphics = this.graphics;\r\n        var path = this.path;\r\n        graphics.clear();\r\n        graphics.lineStyle(6, 0x00FFFF, 1.0);\r\n        path.draw(graphics);\r\n        rt.draw(graphics);\r\n    };\r\n    ExplorationTracker.prototype.setDiscoverViewport = function (x, y, width, height) {\r\n        this.cullViewport = {\r\n            x: x,\r\n            y: y,\r\n            width: width,\r\n            height: height,\r\n            halfWidth: width * 0.5,\r\n            halfHeight: height * 0.5,\r\n        };\r\n    };\r\n    ExplorationTracker.prototype.hasBeenUncovered = function (object) {\r\n        var track = this.track;\r\n        var view = this.cullViewport;\r\n        var objBounds = object.getBounds();\r\n        for (var i = 0; i < track.length; i++) {\r\n            var point = track[i];\r\n            var viewport = new Phaser.Geom.Rectangle(point.x - view.halfWidth, point.y - view.halfHeight, view.width, view.height);\r\n            if (Phaser.Geom.Rectangle.Overlaps(viewport, objBounds)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    ExplorationTracker.prototype.updateTrack = function () {\r\n        var world = this.spaceScene.world;\r\n        var trackingObj = world.get.gameObject(\"playerShip\", 0);\r\n        this.addToTrack(trackingObj.x, trackingObj.y);\r\n    };\r\n    ExplorationTracker.prototype.addToTrack = function (x, y) {\r\n        x |= 0;\r\n        y |= 0;\r\n        if (this.track.length !== 0) {\r\n            var trackEnd = this.track[this.track.length - 1];\r\n            if (trackEnd.x === x && trackEnd.y === y) {\r\n                return;\r\n            }\r\n        }\r\n        this.track.push(new Phaser.Math.Vector2(x, y));\r\n        this.path.lineTo(x, y);\r\n    };\r\n    return ExplorationTracker;\r\n}());\r\nexports.default = ExplorationTracker;\r\n//# sourceMappingURL=ExplorationTracker.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MapExplorer = (function () {\r\n    function MapExplorer(scene) {\r\n        this.open = false;\r\n        this.canRender = function (obj) {\r\n            return true;\r\n        };\r\n        this.scene = scene;\r\n        this.open = true;\r\n        this.init();\r\n    }\r\n    MapExplorer.prototype.init = function () {\r\n        var scene = this.scene;\r\n        this.starScene = scene.scene.get(\"starSceneController\");\r\n        var spaceScene = scene.scene.get(\"space\");\r\n        this.world = spaceScene.world;\r\n        var spaceCam = this.spaceCam = spaceScene.cameras.main;\r\n        var mainCam = scene.cameras.main;\r\n        var cam = this.cam = mainCam;\r\n        this.innerCam = scene.cameras.add(0, 0, mainCam.x, mainCam.y).setVisible(false);\r\n        this.innerCam.setScroll(spaceCam.scrollX, spaceCam.scrollY);\r\n        this.starsRT = scene.add.renderTexture(0, 0, cam.width, cam.height).setScrollFactor(0);\r\n        this.rt = scene.add.renderTexture(0, 0, cam.width, cam.height).setScrollFactor(0);\r\n        this.infoText = scene.add.text(550, 20, \"(?, ?)\");\r\n        this.initControls();\r\n    };\r\n    MapExplorer.prototype.updateStarsRT = function (innerCam, drawBackObjs) {\r\n        var spaceCam = this.spaceCam;\r\n        var rt = this.starsRT;\r\n        var rf = (1 - 1 / innerCam.zoom);\r\n        var h_zoom = (innerCam.zoom / 0.5);\r\n        rt.beginDraw();\r\n        drawBackObjs(rt, innerCam, this.rt.camera.scrollX - this.innerCam.scrollX + this.innerCam.scrollX, this.rt.camera.scrollY);\r\n        rt.endDraw();\r\n    };\r\n    MapExplorer.prototype.updateRT = function (zoom, scrollX, scrollY, cam) {\r\n        var rt = this.rt;\r\n        var camHalfWidth = cam.width * 0.5;\r\n        var camHalfHeight = cam.height * 0.5;\r\n        var r_zoom = zoom * cam.zoom;\r\n        var visibleObjects = this.world.getObjectsInBox(scrollX - camHalfWidth / r_zoom, scrollY - camHalfWidth / r_zoom, scrollX + camHalfHeight / r_zoom, scrollY + camHalfHeight / r_zoom);\r\n        this.rt.clear();\r\n        var rf = (1 - 1 / zoom);\r\n        var h_zoom = (zoom / 0.5);\r\n        rt.camera.setZoom(zoom);\r\n        rt.camera.scrollX = scrollX + (cam.width - rt.camera.width * rf) * 0.5 - rt.camera.width / h_zoom;\r\n        rt.camera.scrollY = scrollY + (cam.height - rt.camera.height * rf) * 0.5 - rt.camera.height / h_zoom;\r\n        rt.beginDraw();\r\n        for (var i = 0; i < visibleObjects.length; i++) {\r\n            var obj = visibleObjects[i];\r\n            if (this.filterGameObject(obj)) {\r\n                rt.batchDraw(obj, obj.x, obj.y);\r\n            }\r\n        }\r\n        rt.endDraw();\r\n    };\r\n    MapExplorer.prototype.filterGameObject = function (obj) {\r\n        return (obj._arrayName === \"planet\" || obj._arrayName === \"nebula\") && this.canRender(obj);\r\n    };\r\n    MapExplorer.prototype.setVisibility = function (visibility) {\r\n        this.rt.setVisible(visibility);\r\n        this.starsRT.setVisible(visibility);\r\n        this.infoText.setVisible(visibility);\r\n    };\r\n    MapExplorer.prototype.render = function () {\r\n        if (!this.open) {\r\n            this.setVisibility(false);\r\n            return;\r\n        }\r\n        this.setVisibility(true);\r\n        var starScene = this.starScene;\r\n        this.updateStarsRT(this.innerCam, function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            starScene.updateToRenderTexture.apply(starScene, args);\r\n        });\r\n        var _a = this.innerCam, zoom = _a.zoom, scrollX = _a.scrollX, scrollY = _a.scrollY;\r\n        this.updateRT(zoom, scrollX, scrollY, this.spaceCam);\r\n        this.infoText.setText(\"(\" + scrollX.toFixed(2) + \", \" + scrollY.toFixed(2) + \")\");\r\n    };\r\n    MapExplorer.prototype.renderTracker = function (tracker) {\r\n        tracker.render(this.rt);\r\n    };\r\n    MapExplorer.prototype.setCanRender = function (canRender, context) {\r\n        if (context === undefined) {\r\n            context = this;\r\n        }\r\n        this.canRender = function (obj) {\r\n            return canRender.call(context, obj);\r\n        };\r\n    };\r\n    MapExplorer.prototype.update = function () {\r\n        if (!this.open) {\r\n            return;\r\n        }\r\n        this.updateControls();\r\n    };\r\n    MapExplorer.prototype.initControls = function () {\r\n        var _this = this;\r\n        this.controlsSpeed = 10.0;\r\n        this.keys = this.scene.input.keyboard.addKeys(\"W,A,S,D,LEFT,RIGHT,UP,DOWN,SPACE\");\r\n        this.innerCam.zoom = 0.25;\r\n        this.scene.input.on('wheel', function (pointer, currentlyOver, dx, dy, dz) {\r\n            _this.innerCam.zoom = Math.min(Math.max(_this.innerCam.zoom * (1 - dy * 0.001), 0.005), 2.5);\r\n        });\r\n    };\r\n    MapExplorer.prototype.updateControls = function () {\r\n        var innerCam = this.innerCam;\r\n        var zoom = innerCam.zoom;\r\n        if (this.keys.LEFT.isDown || this.keys.A.isDown) {\r\n            innerCam.scrollX -= this.controlsSpeed / zoom;\r\n        }\r\n        if (this.keys.RIGHT.isDown || this.keys.D.isDown) {\r\n            innerCam.scrollX += this.controlsSpeed / zoom;\r\n        }\r\n        if (this.keys.UP.isDown || this.keys.W.isDown) {\r\n            innerCam.scrollY -= this.controlsSpeed / zoom;\r\n        }\r\n        if (this.keys.DOWN.isDown || this.keys.D.isDown) {\r\n            innerCam.scrollY += this.controlsSpeed / zoom;\r\n        }\r\n        if (this.keys.SPACE.isDown) {\r\n            innerCam.scrollX = this.spaceCam.scrollX;\r\n            innerCam.scrollY = this.spaceCam.scrollY;\r\n        }\r\n    };\r\n    return MapExplorer;\r\n}());\r\nexports.default = MapExplorer;\r\n//# sourceMappingURL=MapExplorer.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MapSystem = (function () {\r\n    function MapSystem() {\r\n    }\r\n    MapSystem.prototype.createMap = function (scene, x, y, width, height) {\r\n        this.world = scene.scene.get(\"space\").world;\r\n        this.staticRT = scene.add.renderTexture(x, y, width, height).setScrollFactor(0);\r\n        this.rt = scene.add.renderTexture(x, y, width, height).setScrollFactor(0);\r\n        var roundAmt = 40;\r\n        var shape = scene.add.graphics().setScrollFactor(0);\r\n        shape.fillStyle(0xFFFFFF);\r\n        shape.beginPath();\r\n        shape.fillRoundedRect(x, y, width, height, { tl: roundAmt, tr: 0, bl: 0, br: 0 });\r\n        shape.setVisible(false);\r\n        var mask = shape.createGeometryMask();\r\n        this.staticRT.setMask(mask);\r\n        this.rt.setMask(mask);\r\n        var tint = 0x9CFFC1;\r\n        this.staticRT.setTint(tint);\r\n        this.rt.setTint(tint);\r\n        var backGraphics = this.backGraphics = scene.add.graphics().setScrollFactor(0);\r\n        backGraphics.fillStyle(0x000000);\r\n        backGraphics.fillRoundedRect(x, y, width, height, { tl: roundAmt, tr: 0, bl: 0, br: 0 });\r\n        backGraphics.setVisible(false);\r\n        backGraphics.setMask(mask);\r\n        backGraphics.setDepth(-1);\r\n    };\r\n    MapSystem.prototype.getViewportSize = function () {\r\n        return {\r\n            width: this.rt.camera.width,\r\n            height: this.rt.camera.height\r\n        };\r\n    };\r\n    MapSystem.prototype.updateMap = function (zoom, cam, drawBackObjs) {\r\n        var rt = this.rt;\r\n        var camHalfWidth = cam.width * 0.5;\r\n        var camHalfHeight = cam.height * 0.5;\r\n        var visibleObjects = this.world.getObjectsInBox(cam.scrollX - camHalfWidth / zoom, cam.scrollY - camHalfWidth / zoom, cam.scrollX + camHalfHeight / zoom, cam.scrollY + camHalfHeight / zoom);\r\n        this.rt.clear();\r\n        var rf = (1 - 1 / zoom);\r\n        var h_zoom = (zoom / 0.5);\r\n        rt.camera.setZoom(zoom);\r\n        rt.camera.scrollX = cam.scrollX + (cam.width - rt.camera.width * rf) * 0.5 - rt.camera.width / h_zoom;\r\n        rt.camera.scrollY = cam.scrollY + (cam.height - rt.camera.height * rf) * 0.5 - rt.camera.height / h_zoom;\r\n        rt.beginDraw();\r\n        for (var i = 0; i < visibleObjects.length; i++) {\r\n            var obj = visibleObjects[i];\r\n            rt.batchDraw(obj, obj.x, obj.y);\r\n        }\r\n        rt.endDraw();\r\n        this.staticRT.clear();\r\n        if (zoom < 0.125) {\r\n            this.backGraphics.setVisible(true);\r\n            return;\r\n        }\r\n        this.backGraphics.setVisible(false);\r\n        this.staticRT.beginDraw();\r\n        var starZoom = 4;\r\n        drawBackObjs(this.staticRT, this.rt.camera, starZoom, rf * cam.width, rf * cam.height);\r\n        this.staticRT.endDraw();\r\n    };\r\n    return MapSystem;\r\n}());\r\nexports.default = MapSystem;\r\n//# sourceMappingURL=MiniMapSystem.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EntryScene = (function (_super) {\r\n    __extends(EntryScene, _super);\r\n    function EntryScene() {\r\n        return _super.call(this, \"entry\") || this;\r\n    }\r\n    EntryScene.prototype.preload = function () {\r\n        this.currentSceneGroup = \"space\";\r\n    };\r\n    EntryScene.prototype.create = function () {\r\n        this.scene.run(this.currentSceneGroup);\r\n    };\r\n    EntryScene.prototype.switchSceneGroup = function (sceneGroup, callback, callbackScope) {\r\n        if (sceneGroup === this.currentSceneGroup) {\r\n            throw \"You are already in \\\"\" + sceneGroup + \"\\\" scene group\";\r\n        }\r\n        this.scene.sleep(this.currentSceneGroup);\r\n        this.scene.get(this.currentSceneGroup).sleepScenes(true);\r\n        if (callback !== undefined) {\r\n            callback.apply(callbackScope, [this.scene.get(this.currentSceneGroup), this.scene.get(sceneGroup)]);\r\n        }\r\n        this.scene.run(sceneGroup);\r\n        var nextScene = this.scene.get(sceneGroup);\r\n        if (nextScene.loaded) {\r\n            nextScene.runScenes(true);\r\n        }\r\n        this.currentSceneGroup = sceneGroup;\r\n    };\r\n    return EntryScene;\r\n}(Phaser.Scene));\r\nexports.default = EntryScene;\r\n//# sourceMappingURL=EntryScene.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = {\r\n    GRASS_PLANET_2: {\r\n        GRASS: 1,\r\n        DIRT: 2,\r\n        WATER_TOP: 3,\r\n        WATER: 4,\r\n        WATER_BLANK: 5,\r\n        LAVA_TOP: 6,\r\n        LAVA: 7,\r\n        LAVA_BLANK: 8,\r\n        BRICK: 9,\r\n        DOOR_TOP: 10,\r\n        DOOR_BOTTOM: 11,\r\n        BACK_GRASS: 12,\r\n        BACK_DIRT: 13,\r\n        SLOPE_LEFT_UP: 14,\r\n        SLOPE_RIGHT_UP: 15,\r\n        GREEN_BEAKER: 21,\r\n        CHECKPOINT: 22\r\n    },\r\n    GRASS_PLANET: {\r\n        WATER: 59,\r\n        WATER_2: 60\r\n    }\r\n};\r\n//# sourceMappingURL=BlockIndexes.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar PlanetBackScene = (function (_super) {\r\n    __extends(PlanetBackScene, _super);\r\n    function PlanetBackScene() {\r\n        var _this = _super.call(this, \"planetBack\") || this;\r\n        _this.ignoreLayersAmt = 2;\r\n        return _this;\r\n    }\r\n    PlanetBackScene.prototype.preload = function () {\r\n        this.load.spritesheet(\"scrollBackground\", \"./assets/Planet/Backgrounds/GrassPlanet/GrassPlanet.png\", {\r\n            frameWidth: 400,\r\n            frameHeight: 225\r\n        });\r\n    };\r\n    PlanetBackScene.prototype.create = function () {\r\n        var backgraphics = this.add.graphics().setScrollFactor(0);\r\n        backgraphics.fillStyle(0x00ABFF);\r\n        backgraphics.fillRect(0, 0, this.game.canvas.width, this.game.canvas.height);\r\n        backgraphics.setDepth(-2);\r\n        this.layerSpeeds = [\r\n            -1,\r\n            -1,\r\n            0.75,\r\n            0.6,\r\n            0.4\r\n        ];\r\n        this.layers = [];\r\n        this.nextLayers = [];\r\n        for (var i = 0; i < this.layerSpeeds.length; i++) {\r\n            var layer = this.add.image(0, 0, \"scrollBackground\", i);\r\n            layer.setScrollFactor(0, 0).setDisplayOrigin(0, 0).setScale(2, 2);\r\n            this.layers.push(layer);\r\n            var nextLayer = this.add.image(0, 0, \"scrollBackground\", i);\r\n            nextLayer.setScrollFactor(0, 0).setDisplayOrigin(0, 0).setScale(2, 2);\r\n            this.nextLayers.push(nextLayer);\r\n        }\r\n    };\r\n    PlanetBackScene.prototype.update = function () {\r\n        var planetLogicScene = this.scene.get(\"planetLogic\");\r\n        var cam = planetLogicScene.cameras.main;\r\n        var width = cam.width;\r\n        var diff = width - cam.scrollX;\r\n        for (var i = this.ignoreLayersAmt; i < this.layers.length; i++) {\r\n            var layer = this.layers[i];\r\n            var speed = diff / this.layerSpeeds[i];\r\n            var index = -Math.floor((speed + width) / layer.displayWidth);\r\n            layer.x = layer.displayWidth * index + speed;\r\n            this.nextLayers[i].x = layer.displayWidth * (index + 1) + speed;\r\n            layer.y = 100;\r\n            this.nextLayers[i].y = 100;\r\n        }\r\n    };\r\n    return PlanetBackScene;\r\n}(Phaser.Scene));\r\nexports.default = PlanetBackScene;\r\n//# sourceMappingURL=PlanetBackScene.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BlockIndexes_1 = require(\"./BlockIndexes\");\r\nvar PlanetEffectsScene = (function (_super) {\r\n    __extends(PlanetEffectsScene, _super);\r\n    function PlanetEffectsScene() {\r\n        return _super.call(this, \"planetEffects\") || this;\r\n    }\r\n    PlanetEffectsScene.prototype.preload = function () {\r\n        this.load.audio(\"brickBreak\", \"./assets/Planet/Sounds/quickBoom.wav\");\r\n        this.load.spritesheet(\"brick\", \"./assets/Planet/GameObjects/blocks/brick.png\", {\r\n            frameWidth: 8,\r\n            frameHeight: 8,\r\n        });\r\n    };\r\n    PlanetEffectsScene.prototype.create = function () {\r\n        this.brickParticles = this.add.particles(\"brick\");\r\n        this.brickEmitter = this.brickParticles.createEmitter({\r\n            gravityY: 1600,\r\n            lifespan: 5000\r\n        });\r\n        this.brickEmitter.stop();\r\n        this.logicCam = this.scene.get(\"planetLogic\").cameras.main;\r\n        this.sounds = {\r\n            brickBreak: this.sound.add(\"brickBreak\")\r\n        };\r\n    };\r\n    PlanetEffectsScene.prototype.playSound = function (key) {\r\n        this.sounds[key].play();\r\n    };\r\n    ;\r\n    PlanetEffectsScene.prototype.emitBricks = function (bounds) {\r\n        this.logicCam = this.scene.get(\"planetLogic\").cameras.main;\r\n        var emitter = this.brickEmitter;\r\n        var xSpeed = 20;\r\n        var ySpeed = 300;\r\n        emitter.setFrame(0).setSpeedX(-xSpeed).setSpeedY(-ySpeed).emitParticleAt(bounds.x + 0.25 * bounds.width, bounds.y + 0.25 * bounds.height);\r\n        emitter.setFrame(1).setSpeedX(xSpeed).setSpeedY(-ySpeed).emitParticleAt(bounds.x + 0.75 * bounds.width, bounds.y + 0.25 * bounds.height);\r\n        emitter.setFrame(2).setSpeedX(-xSpeed * 2).setSpeedY(-ySpeed).emitParticleAt(bounds.x + 0.25 * bounds.width, bounds.y + 0.75 * bounds.height);\r\n        emitter.setFrame(3).setSpeedX(xSpeed * 2).setSpeedY(-ySpeed).emitParticleAt(bounds.x + 0.75 * bounds.width, bounds.y + 0.75 * bounds.height);\r\n        this.playSound(\"brickBreak\");\r\n    };\r\n    PlanetEffectsScene.prototype.processBrickCollision = function (player, tilemap) {\r\n        if (!player.body.blocked.up) {\r\n            return;\r\n        }\r\n        var logicCam = this.scene.get(\"planetLogic\").cameras.main;\r\n        var tileLeft = tilemap.getTileAtWorldXY(player.body.x, player.body.y - 1, undefined, logicCam, \"World\");\r\n        var tileRight = tilemap.getTileAtWorldXY(player.body.right, player.body.y - 1, undefined, logicCam, \"World\");\r\n        if (tileLeft && tileLeft.index === BlockIndexes_1.default.GRASS_PLANET_2.BRICK) {\r\n            var bounds = tileLeft.getBounds();\r\n            tilemap.removeTileAt(tileLeft.x, tileLeft.y, true, true, \"World\");\r\n            this.emitBricks(bounds);\r\n        }\r\n        else if (tileRight && tileRight.index === BlockIndexes_1.default.GRASS_PLANET_2.BRICK) {\r\n            var bounds = tileRight.getBounds();\r\n            tilemap.removeTileAt(tileRight.x, tileRight.y, true, true, \"World\");\r\n            this.emitBricks(bounds);\r\n        }\r\n    };\r\n    PlanetEffectsScene.prototype.update = function (time, delta) {\r\n        var mainCam = this.cameras.main;\r\n        var logicCam = this.logicCam;\r\n        mainCam.setScroll(logicCam.scrollX, logicCam.scrollY);\r\n        mainCam.setZoom(logicCam.zoom);\r\n    };\r\n    PlanetEffectsScene.prototype.fadeOut = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        this.cameras.main.fadeOut.apply(this.cameras.main, arguments);\r\n    };\r\n    PlanetEffectsScene.prototype.fadeIn = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        this.cameras.main.fadeIn.apply(this.cameras.main, arguments);\r\n    };\r\n    return PlanetEffectsScene;\r\n}(Phaser.Scene));\r\nexports.default = PlanetEffectsScene;\r\n//# sourceMappingURL=PlanetEffectsScene.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Player_1 = require(\"../../gameObjects/planet/Player\");\r\nvar logger_1 = require(\"../../logger\");\r\nvar PlanetLoaderScene = (function (_super) {\r\n    __extends(PlanetLoaderScene, _super);\r\n    function PlanetLoaderScene() {\r\n        return _super.call(this, \"planetLoader\") || this;\r\n    }\r\n    PlanetLoaderScene.prototype.setTravelerSaveInfo = function (info) {\r\n        if (info !== undefined) {\r\n            this.traveler.saveInfo = info;\r\n        }\r\n    };\r\n    PlanetLoaderScene.prototype.loadPlayer = function (inputData, tilemap, doorGroup, checkpointGroup, currentLevel, defaultLevel) {\r\n        var spawnPointObj = tilemap.findObject(\"Objects\", function (obj) { return obj.name === \"Player Spawn Point\"; });\r\n        var spawnPoint;\r\n        if (!spawnPointObj) {\r\n            spawnPoint = {\r\n                x: 0,\r\n                y: 0\r\n            };\r\n        }\r\n        else {\r\n            spawnPoint = {\r\n                x: spawnPointObj.x,\r\n                y: spawnPointObj.y\r\n            };\r\n        }\r\n        this.handleDoors(tilemap, doorGroup);\r\n        this.handleCheckpoints(checkpointGroup, currentLevel);\r\n        if (inputData.loadType === \"door\") {\r\n            spawnPoint = this.getDoorEntryPoint(tilemap, doorGroup, inputData.doorGoto);\r\n        }\r\n        else if (inputData.loadType === \"checkpoint\") {\r\n            spawnPoint = this.getCheckpointPlace(checkpointGroup, inputData.checkpointGoto);\r\n        }\r\n        var player = new Player_1.default(this.scene.get(\"planetLogic\"), spawnPoint.x, spawnPoint.y);\r\n        player.startLevel = defaultLevel;\r\n        if (inputData.loadType === \"checkpoint\" &&\r\n            this.traveler.saveInfo !== undefined &&\r\n            this.traveler.saveInfo.playerStats !== undefined) {\r\n            player.setStats(this.traveler.saveInfo.playerStats);\r\n        }\r\n        if (this.traveler.containsInfo) {\r\n            var info = this.traveler.getInfo();\r\n            player.setCurrentState(info.player);\r\n        }\r\n        this.player = player;\r\n        return player;\r\n    };\r\n    PlanetLoaderScene.prototype.getDoorEntryPoint = function (tilemap, doorGroup, doorGoto) {\r\n        var objects = tilemap.getObjectLayer(\"Objects\").objects;\r\n        for (var i = 0; i < objects.length; i++) {\r\n            var obj = objects[i];\r\n            if (obj.name !== \"Door\") {\r\n                continue;\r\n            }\r\n            for (var j in obj.properties) {\r\n                var prop = obj.properties[j];\r\n                if (prop.name === \"door\" && prop.value === doorGoto.door) {\r\n                    var doors = doorGroup.children.getArray();\r\n                    for (var i = 0; i < doors.length; i++) {\r\n                        var door = doors[i];\r\n                        var doorBounds = door.getBounds();\r\n                        if (doorBounds.contains(obj.x, obj.y)) {\r\n                            return {\r\n                                x: door.x + door.body.halfWidth / 2,\r\n                                y: door.y + door.body.halfHeight\r\n                            };\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        logger_1.default.warn(\"Couldn't find door at door symbol '\" + doorGoto.door + \"'\");\r\n        return {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n    };\r\n    PlanetLoaderScene.prototype.handleDoors = function (tilemap, doorGroup, spawnPoint, doorGoto) {\r\n        var objects = tilemap.getObjectLayer(\"Objects\").objects;\r\n        var _loop_1 = function () {\r\n            var obj = objects[i];\r\n            if (obj.name === \"Door\") {\r\n                if (spawnPoint !== undefined && doorGoto !== undefined) {\r\n                    for (var j in obj.properties) {\r\n                        var prop = obj.properties[j];\r\n                        if (prop.name === \"door\" && prop.value === doorGoto.door) {\r\n                            doorGroup.getChildren().forEach(function (door) {\r\n                                var doorBounds = door.getBounds();\r\n                                if (doorBounds.contains(obj.x, obj.y)) {\r\n                                    spawnPoint.x = door.x;\r\n                                    spawnPoint.y = door.y;\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                doorGroup.getChildren().forEach(function (door) {\r\n                    if (door.getBounds().contains(obj.x, obj.y)) {\r\n                        var gotoLevel, gotoDoor;\r\n                        for (var j in obj.properties) {\r\n                            var prop = obj.properties[j];\r\n                            if (prop.name === \"gotoLevel\") {\r\n                                gotoLevel = prop.value;\r\n                            }\r\n                            else if (prop.name === \"gotoDoor\") {\r\n                                gotoDoor = prop.value;\r\n                            }\r\n                        }\r\n                        if (gotoLevel && gotoDoor) {\r\n                            door.setGoto({\r\n                                level: gotoLevel,\r\n                                door: gotoDoor\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        for (var i = 0; i < objects.length; i++) {\r\n            _loop_1();\r\n        }\r\n    };\r\n    PlanetLoaderScene.prototype.getCheckpointPlace = function (checkpointGroup, goto) {\r\n        var checkpoints = checkpointGroup.getChildren();\r\n        for (var i = 0; i < checkpoints.length; i++) {\r\n            if (checkpoints[i].goto.index === goto.index) {\r\n                return {\r\n                    x: checkpoints[i].x + checkpoints[i].body.halfWidth,\r\n                    y: checkpoints[i].y\r\n                };\r\n            }\r\n        }\r\n        logger_1.default.warn(\"Couldn't load from checkpoint index '\" + goto.index + \"'\");\r\n        return {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n    };\r\n    PlanetLoaderScene.prototype.handleCheckpoints = function (checkpointGroup, currentLevel) {\r\n        checkpointGroup.getChildren().forEach(function (checkpoint, index) {\r\n            checkpoint.goto = {\r\n                level: currentLevel,\r\n                index: index\r\n            };\r\n        });\r\n    };\r\n    PlanetLoaderScene.prototype.update = function () {\r\n    };\r\n    PlanetLoaderScene.prototype.restart = function (inputData) {\r\n        if (this.loading) {\r\n            return;\r\n        }\r\n        this.loading = true;\r\n        this.scene.pause(\"planetLogic\");\r\n        if ([\"restart\", \"death\"].indexOf(inputData.reason) === -1) {\r\n            this.traveler.setInfo({\r\n                player: this.player.getCurrentState()\r\n            });\r\n        }\r\n        this.scene.run(\"planetLogic\");\r\n        var planetLogicScene = this.scene.get(\"planetLogic\");\r\n        var loadData = planetLogicScene.loadData;\r\n        if (inputData.loadType === \"door\") {\r\n            loadData.currentLevel = inputData.doorGoto.level;\r\n        }\r\n        else if (inputData.loadType === \"checkpoint\") {\r\n            loadData.currentLevel = inputData.checkpointGoto.level;\r\n        }\r\n        else if (inputData.loadType === \"start\") {\r\n            loadData.currentLevel = inputData.startGoto.level;\r\n        }\r\n        planetLogicScene.scene.restart(inputData);\r\n        this.loading = false;\r\n    };\r\n    return PlanetLoaderScene;\r\n}(Phaser.Scene));\r\nexports.default = PlanetLoaderScene;\r\n//# sourceMappingURL=PlanetLoaderScene.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Player_1 = require(\"../../gameObjects/planet/Player\");\r\nvar Water_1 = require(\"../../gameObjects/planet/Water\");\r\nvar PlanetLogicScene = (function (_super) {\r\n    __extends(PlanetLogicScene, _super);\r\n    function PlanetLogicScene() {\r\n        var _this = _super.call(this, {\r\n            key: \"planetLogic\",\r\n            physics: {\r\n                default: \"arcade\",\r\n                arcade: {\r\n                    gravity: { y: 950 },\r\n                }\r\n            },\r\n        }) || this;\r\n        _this.init();\r\n        return _this;\r\n    }\r\n    PlanetLogicScene.prototype.init = function () {\r\n        if (this.loadData !== undefined) {\r\n            return;\r\n        }\r\n        this.loadData = {\r\n            currentWorld: \"GrassPlanet\",\r\n            currentTileset: \"GrassPlanet\",\r\n            currentLevel: \"Level1\"\r\n        };\r\n        this.presetData = {\r\n            currentLevel: this.loadData.currentLevel\r\n        };\r\n    };\r\n    PlanetLogicScene.prototype.receiveLevelInfo = function (levelInfo) {\r\n    };\r\n    PlanetLogicScene.prototype.preload = function () {\r\n        this.load.spritesheet(\"Player\", \"./assets/Planet/GameObjects/Player/NewHelix.png\", { frameWidth: 17, frameHeight: 29 });\r\n        var currentWorld = this.loadData.currentWorld;\r\n        var currentTileset = this.loadData.currentTileset;\r\n        var currentLevel = this.loadData.currentLevel;\r\n        this.load.image(currentTileset, \"./assets/Planet/levels/\" + currentWorld + \"/tilesets/\" + currentTileset + \".png\");\r\n        this.load.tilemapTiledJSON(currentLevel, \"./assets/Planet/levels/\" + currentWorld + \"/tilemaps/\" + currentLevel + \".json\");\r\n    };\r\n    PlanetLogicScene.prototype.create = function (inputData) {\r\n        var _this = this;\r\n        var tilemap = this.make.tilemap({ key: this.loadData.currentLevel, tileWidth: 16, tileHeight: 16 });\r\n        var tileset = tilemap.addTilesetImage(this.loadData.currentTileset);\r\n        var backgroundLayer = tilemap.createLayer(\"Background\", tileset, 0, 0);\r\n        var groundLayer = tilemap.createLayer(\"Ground\", tileset, 0, 0).setCollisionByProperty({ collides: true });\r\n        var foregroundLayer = tilemap.createLayer(\"Foreground\", tileset, 0, 0);\r\n        this.player = new Player_1.default(this, 200, 100);\r\n        this.physics.add.collider(this.player, groundLayer);\r\n        backgroundLayer.setDepth(0);\r\n        groundLayer.setDepth(1);\r\n        foregroundLayer.setDepth(10);\r\n        this.physics.world.setBounds(0, 0, tilemap.widthInPixels, tilemap.heightInPixels);\r\n        this.physics.world.setBoundsCollision(true, true, true, false);\r\n        var cam = this.cameras.main;\r\n        cam.startFollow(this.player);\r\n        cam.setZoom(2);\r\n        cam.setBounds(0, 0, tilemap.widthInPixels, tilemap.heightInPixels);\r\n        var water = this.add.group();\r\n        groundLayer.forEachTile(function (tile) {\r\n            if (tile.index > 80 && tile.index < 115) {\r\n                tile.alpha = 0.8;\r\n                water.add(new Water_1.default(_this, tile.pixelX, tile.pixelY));\r\n            }\r\n        });\r\n        this.physics.add.overlap(this.player, water, function (player, water) {\r\n            player.onOverlap(water);\r\n            water.onOverlap(player);\r\n        });\r\n    };\r\n    PlanetLogicScene.prototype.getPlayerStats = function () {\r\n        return this.player.getStats();\r\n    };\r\n    return PlanetLogicScene;\r\n}(Phaser.Scene));\r\nexports.default = PlanetLogicScene;\r\n//# sourceMappingURL=PlanetLogicScene.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar PlanetScene = (function (_super) {\r\n    __extends(PlanetScene, _super);\r\n    function PlanetScene() {\r\n        var _this = _super.call(this, \"planet\") || this;\r\n        _this.loaded = false;\r\n        return _this;\r\n    }\r\n    PlanetScene.prototype.receiveInfo = function (levelInfo) {\r\n        this.scene.get(\"planetLogic\").receiveLevelInfo(levelInfo);\r\n    };\r\n    PlanetScene.prototype.create = function () {\r\n        this.spaceBar = this.input.keyboard.addKey(\"Space\");\r\n        this.runScenes();\r\n        this.loaded = true;\r\n    };\r\n    PlanetScene.prototype.update = function () {\r\n        if (this.spaceBar.isDown) {\r\n            this.switchToSpaceSceneGroup();\r\n        }\r\n    };\r\n    PlanetScene.prototype.sleepScenes = function (calledByEntryScene) {\r\n        this.scene.sleep(\"planetLogic\");\r\n        this.scene.sleep(\"planetBack\");\r\n    };\r\n    PlanetScene.prototype.runScenes = function (calledByEntryScene) {\r\n        this.scene.run(\"planetBack\");\r\n        this.scene.run(\"planetLogic\");\r\n    };\r\n    PlanetScene.prototype.switchToSpaceSceneGroup = function () {\r\n        var entryScene = this.scene.get(\"entry\");\r\n        this.spaceBar.reset();\r\n        entryScene.switchSceneGroup(\"space\");\r\n    };\r\n    return PlanetScene;\r\n}(Phaser.Scene));\r\nexports.default = PlanetScene;\r\n//# sourceMappingURL=PlanetScene.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar InfoBar_1 = require(\"../../UI/planet/InfoBar\");\r\nvar PlanetUIScene = (function (_super) {\r\n    __extends(PlanetUIScene, _super);\r\n    function PlanetUIScene() {\r\n        return _super.call(this, \"planetUI\") || this;\r\n    }\r\n    PlanetUIScene.prototype.create = function () {\r\n        var _this = this;\r\n        this.infoBar = new InfoBar_1.default(this);\r\n        this.time.delayedCall(100, function () {\r\n            _this.infoBar.init();\r\n        });\r\n    };\r\n    PlanetUIScene.prototype.update = function () {\r\n        if (this.scene.isActive(\"planetLogic\")) {\r\n            this.infoBar.update();\r\n        }\r\n    };\r\n    return PlanetUIScene;\r\n}(Phaser.Scene));\r\nexports.default = PlanetUIScene;\r\n//# sourceMappingURL=PlanetUIScene.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SpaceCameraControllerScene = (function (_super) {\r\n    __extends(SpaceCameraControllerScene, _super);\r\n    function SpaceCameraControllerScene() {\r\n        return _super.call(this, \"spaceCameraController\") || this;\r\n    }\r\n    SpaceCameraControllerScene.prototype.create = function () {\r\n        var _this = this;\r\n        this.spaceScene = this.scene.get(\"space\");\r\n        this.spaceDebugScene = this.scene.get(\"spaceDebug\");\r\n        var BTNS = {\r\n            DPU: 12,\r\n            DPD: 13\r\n        };\r\n        this.gamepadControls = {\r\n            zoomingIn: false,\r\n            zoomingOut: false\r\n        };\r\n        this.spaceScene.input.gamepad.on('down', function (gamepad, button, value) {\r\n            if (value !== 1) {\r\n                return;\r\n            }\r\n            if (button.index === BTNS.DPU) {\r\n                _this.gamepadControls.zoomingIn = true;\r\n                _this.gamepadControls.zoomingOut = false;\r\n            }\r\n            if (button.index === BTNS.DPD) {\r\n                _this.gamepadControls.zoomingOut = true;\r\n                _this.gamepadControls.zoomingIn = false;\r\n            }\r\n        });\r\n        this.spaceScene.input.gamepad.on('up', function (gamepad, button, value) {\r\n            if (value !== 0) {\r\n                return;\r\n            }\r\n            if (button.index === BTNS.DPU) {\r\n                _this.gamepadControls.zoomingIn = false;\r\n            }\r\n            if (button.index === BTNS.DPD) {\r\n                _this.gamepadControls.zoomingOut = false;\r\n            }\r\n        });\r\n        this.input.on('wheel', function (pointer, currentlyOver, dx, dy, dz) {\r\n            var cam = _this.cameras.main;\r\n            _this.updateZoom(Math.min(Math.max(cam.zoom * (1 - dy * 0.001), 0.005), 2.5));\r\n        });\r\n        this.keys = {\r\n            rotateLeft: this.input.keyboard.addKey('a'),\r\n            rotateRight: this.input.keyboard.addKey('d'),\r\n            rotateReset: this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ZERO)\r\n        };\r\n        this.camAngle = 0;\r\n        this.angleSpeed = 2;\r\n        this.updateZoom(0.5);\r\n    };\r\n    SpaceCameraControllerScene.prototype.getCameraAngle = function () {\r\n        return this.camAngle;\r\n    };\r\n    SpaceCameraControllerScene.prototype.updateZoom = function (zoom) {\r\n        var cam = this.cameras.main;\r\n        cam.setZoom(zoom);\r\n        this.spaceScene.cameras.main.setZoom(cam.zoom);\r\n        this.spaceDebugScene.cameras.main.setZoom(cam.zoom);\r\n        cam.roundPixels = true;\r\n        this.spaceDebugScene.cameras.main.setRoundPixels(true);\r\n        this.resizeCSPCameraWindow();\r\n    };\r\n    SpaceCameraControllerScene.prototype.adjustCameraAngle = function (angle) {\r\n        this.cameras.main.setAngle(angle);\r\n        this.spaceScene.cameras.main.setAngle(angle);\r\n        this.spaceDebugScene.cameras.main.setAngle(angle);\r\n        this.resizeCSPCameraWindow();\r\n    };\r\n    SpaceCameraControllerScene.prototype.updateGamepadZoom = function () {\r\n        var cam = this.cameras.main;\r\n        if (this.gamepadControls.zoomingIn) {\r\n            this.updateZoom(Math.min(Math.max(cam.zoom + 0.01, 0.005), 2.5));\r\n        }\r\n        else if (this.gamepadControls.zoomingOut) {\r\n            this.updateZoom(Math.min(Math.max(cam.zoom - 0.01, 0.005), 2.5));\r\n        }\r\n    };\r\n    SpaceCameraControllerScene.prototype.update = function () {\r\n        this.updateGamepadZoom();\r\n        var cam = this.cameras.main;\r\n        var spaceCam = this.spaceScene.cameras.main;\r\n        cam.setScroll(spaceCam.scrollX, spaceCam.scrollY);\r\n        this.spaceDebugScene.cameras.main.setScroll(cam.scrollX, cam.scrollY);\r\n        if (this.keys.rotateLeft.isDown) {\r\n            this.camAngle -= this.angleSpeed;\r\n            this.adjustCameraAngle(this.camAngle);\r\n        }\r\n        if (this.keys.rotateRight.isDown) {\r\n            this.camAngle += this.angleSpeed;\r\n            this.adjustCameraAngle(this.camAngle);\r\n        }\r\n        if (this.keys.rotateReset.isDown) {\r\n            this.camAngle = 0;\r\n            this.adjustCameraAngle(this.camAngle);\r\n            this.updateZoom(1);\r\n        }\r\n    };\r\n    SpaceCameraControllerScene.prototype.resizeCSPCameraWindow = function () {\r\n        var world = this.spaceScene.world;\r\n        var cspConfig = this.spaceScene.cspConfig;\r\n        var cam = this.cameras.main;\r\n        var c_width = cspConfig.window.width;\r\n        var c_height = cspConfig.window.height;\r\n        var x = Math.abs(c_width - c_width / cam.zoom) / -2;\r\n        var y = Math.abs(c_height - c_height / cam.zoom) / -2;\r\n        var width = c_width / cam.zoom + x * -2;\r\n        var height = c_height / cam.zoom + y * -2;\r\n        var prev_width = Math.abs(x) + width;\r\n        var prev_height = Math.abs(y) + height;\r\n        var prev_halfWidth = prev_width / 2;\r\n        var prev_halfHeight = prev_height / 2;\r\n        var reuseHyp = Math.sqrt(Math.pow(prev_halfWidth, 2) + Math.pow(prev_halfHeight, 2));\r\n        var startingAngle = Math.atan2(prev_halfHeight, prev_halfWidth) + this.camAngle * Phaser.Math.DEG_TO_RAD;\r\n        var upperLeft = {};\r\n        var lowerLeft = {};\r\n        var upperRight = {};\r\n        var lowerRight = {};\r\n        upperLeft.angle = startingAngle + Math.PI * 1.5;\r\n        upperLeft.x = Math.cos(upperLeft.angle) * reuseHyp;\r\n        upperLeft.y = Math.sin(upperLeft.angle) * reuseHyp;\r\n        lowerLeft.angle = startingAngle + Math.PI;\r\n        lowerLeft.x = Math.cos(lowerLeft.angle) * reuseHyp;\r\n        lowerLeft.y = Math.sin(lowerLeft.angle) * reuseHyp;\r\n        upperRight.angle = startingAngle;\r\n        upperRight.x = Math.cos(upperRight.angle) * reuseHyp;\r\n        upperRight.y = Math.sin(upperRight.angle) * reuseHyp;\r\n        lowerRight.angle = startingAngle + Math.PI / 2;\r\n        lowerRight.x = Math.cos(lowerRight.angle) * reuseHyp;\r\n        lowerRight.y = Math.sin(lowerRight.angle) * reuseHyp;\r\n        var minX = Math.min(upperLeft.x, lowerLeft.x, upperRight.x, lowerRight.x);\r\n        var maxX = Math.max(upperLeft.x, lowerLeft.x, upperRight.x, lowerRight.x);\r\n        var minY = Math.min(upperLeft.y, lowerLeft.y, upperRight.y, lowerRight.y);\r\n        var maxY = Math.max(upperLeft.y, lowerLeft.y, upperRight.y, lowerRight.y);\r\n        minX -= Math.abs(x);\r\n        maxX -= Math.abs(x);\r\n        minY -= Math.abs(y);\r\n        maxY -= Math.abs(y);\r\n        x = minX / 2;\r\n        y = minY / 2;\r\n        width = maxX - minX;\r\n        height = maxY - minY;\r\n        world.camera.setWindow(x, y, width, height);\r\n    };\r\n    return SpaceCameraControllerScene;\r\n}(Phaser.Scene));\r\nexports.default = SpaceCameraControllerScene;\r\n//# sourceMappingURL=SpaceCameraControllerScene.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SpaceDebugScene = (function (_super) {\r\n    __extends(SpaceDebugScene, _super);\r\n    function SpaceDebugScene() {\r\n        return _super.call(this, \"spaceDebug\") || this;\r\n    }\r\n    SpaceDebugScene.prototype.create = function () {\r\n        this.cellGraphics = this.add.graphics();\r\n    };\r\n    SpaceDebugScene.prototype.update = function (time, delta) {\r\n        this.showGrid();\r\n    };\r\n    SpaceDebugScene.prototype.showGrid = function () {\r\n        var spaceScene = this.scene.get(\"space\");\r\n        this.cellGraphics.clear();\r\n        this.cellGraphics.lineStyle(6, 0x549431, 1.0);\r\n        spaceScene.world.UIDebugGrid(this.cellGraphics);\r\n    };\r\n    return SpaceDebugScene;\r\n}(Phaser.Scene));\r\nexports.default = SpaceDebugScene;\r\n//# sourceMappingURL=SpaceDebugScene.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SpaceEffectsScene = (function (_super) {\r\n    __extends(SpaceEffectsScene, _super);\r\n    function SpaceEffectsScene() {\r\n        return _super.call(this, \"spaceEffects\") || this;\r\n    }\r\n    SpaceEffectsScene.prototype.preload = function () {\r\n    };\r\n    SpaceEffectsScene.prototype.create = function () {\r\n    };\r\n    SpaceEffectsScene.prototype.update = function (time, delta) {\r\n    };\r\n    return SpaceEffectsScene;\r\n}(Phaser.Scene));\r\nexports.default = SpaceEffectsScene;\r\n//# sourceMappingURL=SpaceEffectsScene.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SpaceGrid = (function () {\r\n    function SpaceGrid(systems, config) {\r\n        this.scrollX = -1;\r\n        this.scrollY = -1;\r\n        this.lastScrollX = -1;\r\n        this.lastScrollY = -1;\r\n        this.sleeping = false;\r\n        this.sleepingEnabled = true;\r\n        this.systems = systems;\r\n        this.config = config;\r\n        this.seed = config.seed;\r\n        this.world = new CartesianSystem.World(this.config);\r\n    }\r\n    SpaceGrid.prototype.buildSpace = function (newConfig) {\r\n        if (newConfig !== undefined) {\r\n            this.config = newConfig;\r\n        }\r\n        Phaser.Math.RND.init([this.seed.toString()]);\r\n        var world = this.world;\r\n        var bounds = this.world.bounds;\r\n        this.systems.cameras.main.setBounds(bounds.minX, bounds.minY, bounds.maxX - bounds.minX, bounds.maxY - bounds.minY);\r\n        this.add = {\r\n            gameObjectArray: function (object, arrayName) {\r\n                return world.add.array(object, arrayName);\r\n            }\r\n        };\r\n        this.get = {\r\n            gameObjectArray: function (arrayName) {\r\n                return world.get.array(arrayName);\r\n            },\r\n            gameObject: function (arrayName, id) {\r\n                return world.get.array(arrayName)[id];\r\n            }\r\n        };\r\n        this.remove = {\r\n            gameObjectArray: function (arrayName) {\r\n                return world.remove.array(arrayName);\r\n            }\r\n        };\r\n        this.camera = {\r\n            setWindow: function (x, y, width, height) {\r\n                world.camera.setWindow(x, y, width, height);\r\n            }\r\n        };\r\n    };\r\n    SpaceGrid.prototype.updateScroll = function (x, y) {\r\n        this.scrollX = x;\r\n        this.scrollY = y;\r\n    };\r\n    SpaceGrid.prototype.updateSpace = function () {\r\n        var world = this.world;\r\n        world.camera.updateScroll(this.scrollX, this.scrollY, world.bounds);\r\n        world.resetProcessList();\r\n        world.updateProcessList();\r\n        this.integrate(this.systems);\r\n    };\r\n    SpaceGrid.prototype.integrate = function (sys) {\r\n        sys.displayList.removeAll();\r\n        sys.updateList.removeAll();\r\n        sys.updateList.update();\r\n        var matter = this.systems.scene.matter;\r\n        matter.world.remove(matter.world.getAllBodies());\r\n        this.world.loopProcessList(function (object) {\r\n            sys.displayList.add(object);\r\n            sys.updateList.add(object);\r\n            matter.world.add(object.body);\r\n        });\r\n        var checkDestroy = function (gameObject) {\r\n            if (gameObject.destroyQueued) {\r\n                gameObject.destroy();\r\n                gameObject.destroyQueued = false;\r\n            }\r\n        };\r\n        sys.displayList.list.forEach(checkDestroy);\r\n        sys.updateList.getActive().forEach(checkDestroy);\r\n        sys.displayList.queueDepthSort();\r\n    };\r\n    SpaceGrid.prototype.initGameObject = function (gameObject) {\r\n        var world = this.world;\r\n        var worldGameObjects = world.gameObjectHandler.gameObjects;\r\n        gameObject.bodyConf = {\r\n            moves: true,\r\n            boundingBox: {},\r\n            update: function () { },\r\n            destroy: function () { },\r\n            updateBoundingBox: function () { },\r\n        };\r\n        gameObject.bodyConf.updateBoundingBox = function () {\r\n            this.boundingBox.minX = gameObject.x - gameObject.displayWidth / 2;\r\n            this.boundingBox.minY = gameObject.y - gameObject.displayHeight / 2;\r\n            this.boundingBox.maxX = gameObject.x + gameObject.displayWidth / 2;\r\n            this.boundingBox.maxY = gameObject.y + gameObject.displayHeight / 2;\r\n        };\r\n        gameObject.bodyConf.updateBoundingBox();\r\n        gameObject.bodyConf.update = function () {\r\n            gameObject.bodyConf.updateBoundingBox();\r\n            world.cameraGrid.removeReference(gameObject);\r\n            world.cameraGrid.addReference(gameObject);\r\n        };\r\n        gameObject.bodyConf.destroy = function () {\r\n            gameObject.bodyConf.updateBoundingBox();\r\n            world.cameraGrid.removeReference(gameObject);\r\n        };\r\n        if (!gameObject.body) {\r\n            gameObject.body = {};\r\n        }\r\n        gameObject.on(\"destroy\", function () {\r\n            gameObject.bodyConf.destroy();\r\n            worldGameObjects[worldGameObjects.references[this._arrayName]].remove(this._id);\r\n        });\r\n    };\r\n    SpaceGrid.prototype.clearSpace = function () {\r\n        var world = this.world;\r\n        world.cameraGrid.reset();\r\n        var gameObjects = world.gameObjectHandler.gameObjects;\r\n        for (var i in gameObjects) {\r\n            for (var j in gameObjects[i]) {\r\n                if (gameObjects[i][j].ignoreDestroy) {\r\n                    gameObjects[i][j].destroyQueued = false;\r\n                    continue;\r\n                }\r\n                gameObjects[i][j].destroy();\r\n            }\r\n            if (!gameObjects[i].ignoreDestroy) {\r\n                gameObjects.removeObject(gameObjects[i]._name);\r\n            }\r\n        }\r\n        Phaser.Math.RND.init([this.seed.toString()]);\r\n    };\r\n    SpaceGrid.prototype.resetSpace = function () {\r\n        this.clearSpace();\r\n        this.buildSpace();\r\n    };\r\n    SpaceGrid.prototype.getObjectsInBox = function (minX, minY, maxX, maxY) {\r\n        var world = this.world;\r\n        var cameraGrid = world.cameraGrid;\r\n        var gameObjects = world.gameObjectHandler.gameObjects;\r\n        var minCoordinate = cameraGrid.getCoordinates(minX | 0, minY | 0);\r\n        var maxCoordinate = cameraGrid.getCoordinates(maxX | 0, maxY | 0);\r\n        var objectsInCells = [];\r\n        cameraGrid.loopThroughCells(minCoordinate.col, minCoordinate.row, maxCoordinate.col, maxCoordinate.row, function (cell, col, row) {\r\n            var i, object;\r\n            for (i in cell) {\r\n                object = gameObjects[gameObjects.references[cell[i].arrayName]][cell[i].id];\r\n                if (object !== undefined) {\r\n                    objectsInCells.push(object);\r\n                }\r\n            }\r\n        });\r\n        return objectsInCells;\r\n    };\r\n    SpaceGrid.prototype.logWorld = function () {\r\n        console.log(this.world.gameObjectHandler);\r\n    };\r\n    SpaceGrid.prototype.UIDebugGrid = function (graphics) {\r\n        var cellWidth = this.world.cameraGrid.cellWidth;\r\n        var cellHeight = this.world.cameraGrid.cellHeight;\r\n        this.world.loopThroughVisibleCells(function (cell, col, row) {\r\n            graphics.strokeRect(col * cellWidth, row * cellHeight, cellWidth, cellHeight);\r\n        });\r\n    };\r\n    SpaceGrid.prototype.getCellInfoText = function (x, y) {\r\n        var world = this.world;\r\n        var coordinates = world.cameraGrid.getCoordinates(x, y);\r\n        var cell = world.cameraGrid.grid[coordinates.col][coordinates.row];\r\n        var cellText = \"\";\r\n        for (var i in cell) {\r\n            cellText += i + \"\\n\";\r\n        }\r\n        return {\r\n            cellText: cellText,\r\n            cellCoordinateText: \"(\" + coordinates.col + \", \" + coordinates.row + \")\"\r\n        };\r\n    };\r\n    return SpaceGrid;\r\n}());\r\nexports.default = SpaceGrid;\r\n//# sourceMappingURL=SpaceGrid.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar PlayerShip_1 = require(\"../../gameObjects/space/PlayerShip\");\r\nvar Planet_1 = require(\"../../gameObjects/space/Planet\");\r\nvar Nebula_1 = require(\"../../gameObjects/space/Nebula\");\r\nvar HyperBeamerSType_1 = require(\"../../gameObjects/space/HyperBeamerSType\");\r\nvar Shrapnel_1 = require(\"../../gameObjects/space/Shrapnel\");\r\nvar XPStar_1 = require(\"../../gameObjects/space/XPStar\");\r\nvar Crest_1 = require(\"../../gameObjects/space/Crest\");\r\nvar SpaceLogicScene = (function (_super) {\r\n    __extends(SpaceLogicScene, _super);\r\n    function SpaceLogicScene() {\r\n        return _super.call(this, \"spaceLogic\") || this;\r\n    }\r\n    SpaceLogicScene.prototype.addObjectsToSpace = function () {\r\n        this.spaceScene = this.scene.get(\"space\");\r\n        var RND = Phaser.Math.RND;\r\n        var world = this.spaceScene.world;\r\n        var nebulae = world.add.gameObjectArray(Nebula_1.default, \"nebula\");\r\n        var gridConfig = this.spaceScene.cspConfig.grid;\r\n        var placeWidth = gridConfig.cols * gridConfig.cellWidth;\r\n        var placeHeight = gridConfig.rows * gridConfig.cellHeight;\r\n        var nebulaeAmt = Math.floor((placeWidth * placeHeight) / 10000000);\r\n        for (var i = 0; i < 300; i++) {\r\n            nebulae.add(this.spaceScene, 69000 + 13000 * RND.frac(), 60500 + 13000 * RND.frac(), \"purpleNebula\");\r\n        }\r\n        var planets = world.add.gameObjectArray(Planet_1.default, \"planet\");\r\n        planets.add(this.spaceScene, 69000, 60000, \"IcyDwarfPlanet\");\r\n        planets.add(this.spaceScene, 62000, 70000, \"RedDustPlanet\");\r\n        world.add.gameObjectArray(XPStar_1.default, \"xpStar\");\r\n        world.add.gameObjectArray(Crest_1.default, \"crest\");\r\n        var shrapnels = world.add.gameObjectArray(Shrapnel_1.default, \"shrapnel\");\r\n        var shrapnelClustAmt = Math.floor((placeWidth * placeHeight) / 100000000);\r\n        for (var i = 0; i < shrapnelClustAmt; i++) {\r\n            var shrapnelClusterX = RND.integerInRange(500, placeWidth - 500);\r\n            var shrapnelClusterY = RND.integerInRange(500, placeHeight - 500);\r\n            for (var j = 0; j < RND.integerInRange(4, 6); j++) {\r\n                shrapnels.add(this.spaceScene, shrapnelClusterX + RND.integerInRange(-200, 200), shrapnelClusterY + RND.integerInRange(-200, 200), \"shrapnel\" + Math.floor(RND.integerInRange(1, 5)));\r\n            }\r\n        }\r\n        shrapnels.add(this.spaceScene, 69000, 62000, \"shrapnel1\");\r\n        shrapnels.add(this.spaceScene, 69000, 62200, \"shrapnel2\");\r\n        shrapnels.add(this.spaceScene, 69130, 62200, \"shrapnel3\");\r\n        shrapnels.add(this.spaceScene, 69170, 62100, \"shrapnel4\");\r\n        shrapnels.add(this.spaceScene, 69190, 62000, \"shrapnel3\");\r\n        if (!world.get.gameObjectArray(\"playerShip\")) {\r\n            var playerShips = world.add.gameObjectArray(PlayerShip_1.default, \"playerShip\");\r\n            playerShips.define(\"ignoreDestroy\", true);\r\n            this.playerShip = playerShips.add(this.spaceScene, 69000, 60200);\r\n        }\r\n        else {\r\n            this.playerShip.resetStats();\r\n            this.playerShip.x = 69000;\r\n            this.playerShip.y = 60200;\r\n            this.playerShip.bodyConf.update();\r\n            this.playerShip.setDepth(8);\r\n            this.playerShip.particles.setDepth(20);\r\n        }\r\n        var hyperBeamerSTypes = world.add.gameObjectArray(HyperBeamerSType_1.default, \"hyperBeamerSType\");\r\n        hyperBeamerSTypes.add(this.spaceScene, 69400, 60000 + 500);\r\n    };\r\n    SpaceLogicScene.prototype.addXPStar = function (x, y) {\r\n        var xpStars = this.spaceScene.world.get.gameObjectArray(\"xpStar\");\r\n        xpStars.add(this.spaceScene, x + Phaser.Math.RND.between(-50, 50), y + Phaser.Math.RND.between(-50, 50), \"xpStar\");\r\n    };\r\n    SpaceLogicScene.prototype.addSmallXPStar = function (x, y) {\r\n        var smallXPStars = this.spaceScene.world.get.gameObjectArray(\"xpStar\");\r\n        smallXPStars.add(this.spaceScene, x + Phaser.Math.RND.between(-50, 50), y + Phaser.Math.RND.between(-50, 50), \"smallXPStar\");\r\n    };\r\n    SpaceLogicScene.prototype.addCrests = function (x, y) {\r\n        var crests = this.spaceScene.world.get.gameObjectArray(\"crest\");\r\n        crests.add(this.spaceScene, x + Phaser.Math.RND.between(-50, 50), y + Phaser.Math.RND.between(-50, 50), \"crest\");\r\n    };\r\n    SpaceLogicScene.prototype.update = function () {\r\n        this.updatePlanets();\r\n    };\r\n    SpaceLogicScene.prototype.updatePlanets = function () {\r\n        var _this = this;\r\n        var playerShip = this.playerShip;\r\n        this.spaceScene.sys.displayList.list.forEach(function (object) {\r\n            if (object._arrayName === \"planet\") {\r\n                var planet = object;\r\n                var dx = planet.x - playerShip.x;\r\n                var dy = planet.y - playerShip.y;\r\n                if (dx * dx + dy * dy < Math.pow(planet.displayWidth / 2, 2)) {\r\n                    _this.spaceScene.switchToPlanetSceneGroup({\r\n                        type: \"planet\",\r\n                        from: planet\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    };\r\n    return SpaceLogicScene;\r\n}(Phaser.Scene));\r\nexports.default = SpaceLogicScene;\r\n//# sourceMappingURL=SpaceLogicScene.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ExplorationTracker_1 = require(\"../../mapSystem/space/ExplorationTracker\");\r\nvar MapExplorer_1 = require(\"../../mapSystem/space/MapExplorer\");\r\nvar MiniMapSystem_1 = require(\"../../mapSystem/space/MiniMapSystem\");\r\nvar SpaceMapScene = (function (_super) {\r\n    __extends(SpaceMapScene, _super);\r\n    function SpaceMapScene() {\r\n        var _this = _super.call(this, \"spaceMap\") || this;\r\n        _this.miniMapZoom = 1;\r\n        return _this;\r\n    }\r\n    SpaceMapScene.prototype.create = function () {\r\n        var _this = this;\r\n        this.starScene = this.scene.get(\"starSceneController\");\r\n        this.spaceSceneCam = this.scene.get(\"space\").cameras.main;\r\n        this.miniMap = new MiniMapSystem_1.default();\r\n        var mapWidth = 250 * 1.2;\r\n        var mapHeight = 150 * 1.0;\r\n        this.miniMap.createMap(this, this.spaceSceneCam.width - mapWidth, this.spaceSceneCam.height - mapHeight, mapWidth, mapHeight);\r\n        this.mapExplorer = new MapExplorer_1.default(this);\r\n        this.updateScenesStates(this.mapExplorer.open);\r\n        this.input.keyboard.on(\"keyup-M\", function () {\r\n            _this.mapExplorer.open = !_this.mapExplorer.open;\r\n            _this.updateScenesStates(_this.mapExplorer.open);\r\n        });\r\n        this.tracker = new ExplorationTracker_1.default(this);\r\n        this.mapExplorer.setCanRender(this.tracker.hasBeenUncovered, this.tracker);\r\n        this.miniMapZoom = 0.1;\r\n    };\r\n    SpaceMapScene.prototype.updateScenesStates = function (open) {\r\n        if (open) {\r\n            this.scene.sleep(\"space\");\r\n            this.scene.sleep(\"spaceLogic\");\r\n            this.scene.sleep(\"spaceUI\");\r\n            this.scene.sleep(\"spaceCameraController\");\r\n        }\r\n        else {\r\n            this.scene.run(\"space\");\r\n            this.scene.run(\"spaceLogic\");\r\n            this.scene.run(\"spaceUI\");\r\n            this.scene.run(\"spaceCameraController\");\r\n        }\r\n    };\r\n    SpaceMapScene.prototype.update = function () {\r\n        if (!this.scene.isActive(\"starSceneController\")) {\r\n            return;\r\n        }\r\n        this.mapExplorer.update();\r\n        this.mapExplorer.render();\r\n        this.mapExplorer.renderTracker(this.tracker);\r\n        this.runMiniMap();\r\n        this.tracker.update();\r\n    };\r\n    SpaceMapScene.prototype.runMiniMap = function () {\r\n        var starScene = this.starScene;\r\n        var zoom = this.miniMapZoom;\r\n        this.miniMap.updateMap(zoom, this.spaceSceneCam, function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            starScene.updateToRenderTexture.apply(starScene, args);\r\n        });\r\n        var _a = this.miniMap.getViewportSize(), width = _a.width, height = _a.height;\r\n        this.tracker.setDiscoverViewport(0, 0, width / zoom, height / zoom);\r\n    };\r\n    return SpaceMapScene;\r\n}(Phaser.Scene));\r\nexports.default = SpaceMapScene;\r\n//# sourceMappingURL=SpaceMapScene.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SpaceGrid_1 = require(\"./SpaceGrid\");\r\nvar SpaceScene = (function (_super) {\r\n    __extends(SpaceScene, _super);\r\n    function SpaceScene() {\r\n        var _this = _super.call(this, {\r\n            key: \"space\",\r\n            physics: {\r\n                default: \"matter\",\r\n                matter: {\r\n                    gravity: false,\r\n                    autoUpdate: false,\r\n                }\r\n            }\r\n        }) || this;\r\n        _this.loaded = false;\r\n        _this.stepMatter = 0;\r\n        return _this;\r\n    }\r\n    SpaceScene.prototype.preload = function () {\r\n        this.load.image(\"helixShip\", \"./assets/Space/Ships/helixShip.png\");\r\n        this.load.image(\"helixShipParticle\", \"./assets/Space/Ships/helixShipParticle.png\");\r\n        this.load.image(\"helixShipLvl1Bullet\", \"./assets/Space/Bullets/helixShipLvl1Bullet.png\");\r\n        this.load.json(\"helixShipShape\", \"./assets/Space/Ships/helixShipShape.json\");\r\n        this.load.image(\"hyperBeamerSTypeGreen\", \"./assets/Space/Ships/hyperBeamerSTypeGreen.png\");\r\n        this.load.image(\"hyperBeamerSTypeGreenParticle\", \"./assets/Space/Ships/hyperBeamerSTypeGreenParticle.png\");\r\n        this.load.spritesheet(\"greenShip\", \"./assets/Space/Ships/GreenShip1.png\", { frameWidth: 24, frameHeight: 24 });\r\n        this.load.spritesheet(\"shipHealthBar\", \"./assets/Space/UI/ShipHealthBar.png\", { frameWidth: 40, frameHeight: 57 });\r\n        this.load.image(\"asteroid1\", \"./assets/Space/Asteroids/Asteroid.png\");\r\n        this.load.image(\"IcyDwarfPlanet\", \"./assets/Space/Planets/IcyDwarfPlanet.png\");\r\n        this.load.image(\"RedDustPlanet\", \"./assets/Space/Planets/RedDustPlanet.png\");\r\n        this.load.image(\"GreenPlanet\", \"./assets/Space/Planets/GreenPlanet.png\");\r\n        this.load.image(\"grayNebula\", \"./assets/Space/nebula/grayNebula.png\");\r\n        this.load.image(\"purpleNebula\", \"./assets/Space/nebula/purpleNebula.png\");\r\n        this.load.image(\"xpStar\", \"./assets/Space/DroppedItems/XPStar.png\");\r\n        this.load.image(\"smallXPStar\", \"./assets/Space/DroppedItems/SmallXPStar.png\");\r\n        this.load.image(\"crest\", \"./assets/Space/DroppedItems/Crest.png\");\r\n        this.load.image(\"shrapnel1\", \"./assets/Space/Shrapnel/shrapnel1.png\");\r\n        this.load.image(\"shrapnel2\", \"./assets/Space/Shrapnel/shrapnel2.png\");\r\n        this.load.image(\"shrapnel3\", \"./assets/Space/Shrapnel/shrapnel3.png\");\r\n        this.load.image(\"shrapnel4\", \"./assets/Space/Shrapnel/shrapnel4.png\");\r\n    };\r\n    SpaceScene.prototype.create = function () {\r\n        var worldWidth = 204800;\r\n        var worldHeight = 204800;\r\n        var cellWidth = 512;\r\n        var cellHeight = 512;\r\n        this.cspConfig = {\r\n            window: {\r\n                width: this.game.config.width,\r\n                height: this.game.config.height\r\n            },\r\n            grid: {\r\n                cols: worldWidth / cellWidth,\r\n                rows: worldHeight / cellHeight,\r\n                cellWidth: cellWidth,\r\n                cellHeight: cellHeight\r\n            },\r\n            seed: this.game.config.seed\r\n        };\r\n        this.world = new SpaceGrid_1.default(this.sys, this.cspConfig);\r\n        this.world.buildSpace();\r\n        this.scene.get(\"spaceLogic\").addObjectsToSpace();\r\n        this.runScenes(false);\r\n        this.prepareStatsGraphics();\r\n        this.generateBulletsTextures();\r\n        this.cameras.main.startFollow(this.scene.get(\"spaceLogic\").playerShip);\r\n        this.loaded = true;\r\n    };\r\n    SpaceScene.prototype.generateBulletsTextures = function () {\r\n        this.generateBullet(\"lightningBlue\", 2, 16, 0x3CD3F8);\r\n        this.generateBullet(\"lightningBlueLong\", 2, 24, 0x3CD3F8);\r\n    };\r\n    SpaceScene.prototype.generateBullet = function (key, width, length, color) {\r\n        var rt = this.add.renderTexture(0, 0, width, length);\r\n        var graphics = this.add.graphics();\r\n        graphics.fillStyle(color);\r\n        graphics.fillRect(0, 0, width, length);\r\n        rt.draw(graphics);\r\n        graphics.setVisible(false);\r\n        graphics.destroy();\r\n        rt.saveTexture(key);\r\n        rt.setVisible(false);\r\n    };\r\n    SpaceScene.prototype.handleGameOver = function () {\r\n        this.reloadSpace();\r\n    };\r\n    SpaceScene.prototype.reloadSpace = function () {\r\n        this.world.resetSpace();\r\n        this.scene.get(\"spaceLogic\").addObjectsToSpace();\r\n        this.cameras.main.startFollow(this.scene.get(\"spaceLogic\").playerShip);\r\n    };\r\n    SpaceScene.prototype.prepareStatsGraphics = function () {\r\n        this.statsGraphics = this.add.graphics().setDepth(4);\r\n    };\r\n    SpaceScene.prototype.runScenes = function (calledByEntryScene) {\r\n        this.runDebugScenes();\r\n        this.scene.run(\"spaceLogic\");\r\n        this.scene.run(\"spaceCameraController\");\r\n        this.scene.run(\"starSceneController\");\r\n        this.scene.run(\"spaceUI\");\r\n        this.scene.run(\"spaceMap\");\r\n        this.scene.bringToTop(\"spaceMap\");\r\n        var playerShip = this.scene.get(\"spaceLogic\").playerShip;\r\n        if (calledByEntryScene) {\r\n            playerShip.y += 500;\r\n            playerShip.resetKeys();\r\n        }\r\n    };\r\n    SpaceScene.prototype.runDebugScenes = function () {\r\n        var _this = this;\r\n        this.scene.run(\"spaceDebug\");\r\n        this.scene.sleep(\"spaceDebug\");\r\n        this.scene.run(\"spaceUIDebug\");\r\n        this.scene.sleep(\"spaceUIDebug\");\r\n        this.scene.bringToTop(\"spaceUIDebug\");\r\n        this.input.keyboard.on(\"keydown-U\", function () {\r\n            if (_this.scene.isSleeping(\"spaceUIDebug\")) {\r\n                _this.scene.wake(\"spaceUIDebug\");\r\n                _this.scene.bringToTop(\"spaceUIDebug\");\r\n            }\r\n            else {\r\n                _this.scene.sleep(\"spaceUIDebug\");\r\n            }\r\n        });\r\n        this.input.keyboard.on(\"keydown-I\", function () {\r\n            if (_this.scene.isSleeping(\"spaceDebug\")) {\r\n                _this.scene.wake(\"spaceDebug\");\r\n            }\r\n            else {\r\n                _this.scene.sleep(\"spaceDebug\");\r\n            }\r\n        });\r\n    };\r\n    SpaceScene.prototype.sleepDebugScenes = function () {\r\n        this.scene.sleep(\"spaceDebug\");\r\n        this.scene.sleep(\"spaceUIDebug\");\r\n    };\r\n    SpaceScene.prototype.sleepScenes = function (calledByEntryScene) {\r\n        this.scene.moveBelow(\"spaceUI\");\r\n        this.scene.sleep(\"spaceUI\");\r\n        this.scene.sleep(\"starSceneController\");\r\n        this.scene.sleep(\"spaceCameraController\");\r\n        this.scene.sleep(\"spaceMap\");\r\n        this.scene.sleep(\"spaceLogic\");\r\n        this.sleepDebugScenes();\r\n    };\r\n    SpaceScene.prototype.stopScenes = function () {\r\n        this.scene.stop(\"spaceUIDebug\");\r\n        this.scene.stop(\"spaceDebug\");\r\n        this.scene.stop(\"spaceUI\");\r\n        this.scene.stop(\"starSceneController\");\r\n        this.scene.stop(\"spaceCameraController\");\r\n        this.scene.stop(\"spaceMap\");\r\n        this.scene.stop(\"spaceLogic\");\r\n    };\r\n    SpaceScene.prototype.switchToPlanetSceneGroup = function (levelInfo) {\r\n        var entryScene = this.scene.get(\"entry\");\r\n        entryScene.switchSceneGroup(\"planet\", function (fromScene, nextScene) {\r\n            nextScene.receiveInfo(levelInfo);\r\n        });\r\n    };\r\n    SpaceScene.prototype.update = function (time, delta) {\r\n        var _this = this;\r\n        var cam = this.cameras.main;\r\n        this.world.updateScroll(cam.scrollX + cam.width * 0.5, cam.scrollY + cam.height * 0.5);\r\n        this.world.updateSpace();\r\n        this.sys.displayList.list.forEach(function (gameObject) {\r\n            if (gameObject.particles !== undefined) {\r\n                _this.sys.displayList.add(gameObject.particles);\r\n            }\r\n        });\r\n        this.updateStatsGraphics();\r\n        if (this.stepMatter++ >= 2) {\r\n            this.matter.step(1000 / 30, 0);\r\n            this.stepMatter = 0;\r\n        }\r\n    };\r\n    SpaceScene.prototype.updateStatsGraphics = function () {\r\n        var _this = this;\r\n        this.statsGraphics.clear();\r\n        this.statsGraphics.setAngle(0);\r\n        this.sys.displayList.list.forEach(function (object) {\r\n            if (object.showHpBar) {\r\n                var enemyShip = object;\r\n                if (enemyShip.getHp() < enemyShip.getMaxHp()) {\r\n                    var barX = enemyShip.x - enemyShip.width * 0.5;\r\n                    var barY = enemyShip.y - enemyShip.width * 0.7;\r\n                    _this.statsGraphics.fillStyle(0x0A297E);\r\n                    _this.statsGraphics.fillRect(barX, barY, enemyShip.width, 4);\r\n                    _this.statsGraphics.fillStyle(0x54B70E);\r\n                    _this.statsGraphics.fillRect(barX, barY, enemyShip.getHp() * enemyShip.width / enemyShip.getMaxHp(), 4);\r\n                }\r\n            }\r\n        });\r\n        this.sys.displayList.add(this.statsGraphics);\r\n    };\r\n    return SpaceScene;\r\n}(Phaser.Scene));\r\nexports.default = SpaceScene;\r\n//# sourceMappingURL=SpaceScene.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SpaceUIDebugScene = (function (_super) {\r\n    __extends(SpaceUIDebugScene, _super);\r\n    function SpaceUIDebugScene() {\r\n        return _super.call(this, \"spaceUIDebug\") || this;\r\n    }\r\n    SpaceUIDebugScene.prototype.create = function () {\r\n        this.cellCoorText = this.add.text(40, 136, \"\");\r\n        this.cellText = this.add.text(40, 150, \"\").setFontSize(12);\r\n        this.fpsText = this.add.text(40, 20, \"\");\r\n        this.shipPositionText = this.add.text(550, 20, \"\");\r\n        this.spaceScene = this.scene.get(\"space\");\r\n    };\r\n    SpaceUIDebugScene.prototype.update = function (time, delta) {\r\n        this.fpsText.setText(\"Fps: \" + (1000 / delta).toFixed(0));\r\n        var cam = this.spaceScene.cameras.main;\r\n        this.shipPositionText.setText(\"(\" + cam.worldView.centerX.toFixed(2) + \", \" + cam.worldView.centerY.toFixed(2) + \")\");\r\n        this.peekCell();\r\n    };\r\n    SpaceUIDebugScene.prototype.peekCell = function () {\r\n        this.input.activePointer.updateWorldPoint(this.spaceScene.cameras.main);\r\n        var _a = this.spaceScene.world.getCellInfoText(this.input.activePointer.worldX, this.input.activePointer.worldY), cellCoordinateText = _a.cellCoordinateText, cellText = _a.cellText;\r\n        this.cellCoorText.setText(cellCoordinateText);\r\n        this.cellText.setText(cellText);\r\n    };\r\n    return SpaceUIDebugScene;\r\n}(Phaser.Scene));\r\nexports.default = SpaceUIDebugScene;\r\n//# sourceMappingURL=SpaceUIDebugScene.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SpaceUIScene = (function (_super) {\r\n    __extends(SpaceUIScene, _super);\r\n    function SpaceUIScene() {\r\n        return _super.call(this, \"spaceUI\") || this;\r\n    }\r\n    SpaceUIScene.prototype.create = function () {\r\n        var spaceLogicScene = this.scene.get(\"spaceLogic\");\r\n        this.playerShip = spaceLogicScene.playerShip;\r\n        var statsY = Math.floor(this.cameras.main.height - 114);\r\n        var statsContainer = this.add.image(0, statsY, \"shipHealthBar\", 0).setScrollFactor(0).setScale(2).setOrigin(0).setFlipX(true);\r\n        var statsHpBar = this.add.image(0, statsY, \"shipHealthBar\", 2).setScrollFactor(0).setScale(2).setOrigin(0).setFlipX(true);\r\n        var statsHpMask = this.add.image(0, statsY, \"shipHealthBar\", 2).setScrollFactor(0).setScale(2).setOrigin(0).setFlipX(true);\r\n        statsHpMask.setVisible(false);\r\n        statsHpBar.mask = new Phaser.Display.Masks.BitmapMask(this, statsHpMask);\r\n        this.setHpBar = function (hp, maxHp) {\r\n            statsHpBar.y = statsY + statsHpBar.displayHeight - (hp * statsHpBar.displayHeight / maxHp);\r\n        };\r\n        var statsXpBar = this.add.image(0, statsY, \"shipHealthBar\", 3).setScrollFactor(0).setScale(2).setOrigin(0).setFlipX(true);\r\n        var statsXpMask = this.add.image(0, statsY, \"shipHealthBar\", 3).setScrollFactor(0).setScale(2).setOrigin(0).setFlipX(true);\r\n        statsXpMask.setVisible(false);\r\n        statsXpBar.mask = new Phaser.Display.Masks.BitmapMask(this, statsXpMask);\r\n        this.setXpBar = function (xp, maxXp) {\r\n            var xpBarLength = 74.4;\r\n            statsXpBar.y = statsY + xpBarLength - (xp * xpBarLength / maxXp);\r\n        };\r\n    };\r\n    SpaceUIScene.prototype.update = function (time, delta) {\r\n        this.setHpBar(this.playerShip.getHp(), this.playerShip.getMaxHp());\r\n        this.setXpBar(this.playerShip.getXp(), this.playerShip.getNextLevelXp());\r\n    };\r\n    return SpaceUIScene;\r\n}(Phaser.Scene));\r\nexports.default = SpaceUIScene;\r\n//# sourceMappingURL=SpaceUIScene.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar StarSceneControllerScene = (function (_super) {\r\n    __extends(StarSceneControllerScene, _super);\r\n    function StarSceneControllerScene() {\r\n        return _super.call(this, \"starSceneController\") || this;\r\n    }\r\n    StarSceneControllerScene.prototype.preload = function () {\r\n        this.load.image(\"starBackground1\", \"./assets/Space/Stars/starBackground1.png\");\r\n        this.load.image(\"starBackground2\", \"./assets/Space/Stars/starBackground2.png\");\r\n        this.load.image(\"starBackground3\", \"./assets/Space/Stars/starBackground3.png\");\r\n    };\r\n    StarSceneControllerScene.prototype.create = function () {\r\n        var cam = this.cameras.main;\r\n        this.starLayers = new Array();\r\n        this.scrollValues = [0.65, 0.9, 1];\r\n        var layerAmt = this.scrollValues.length;\r\n        for (var i = 1; i <= layerAmt; i++) {\r\n            var tileSprite = this.add.tileSprite(cam.width / 2, cam.height / 2, cam.width * 2, cam.height * 2, \"starBackground\" + i).setDepth(i - layerAmt);\r\n            tileSprite.setOrigin(0.5);\r\n            this.starLayers.push(tileSprite);\r\n        }\r\n        this.scene.sendToBack(\"starSceneController\");\r\n        this.scene.run(\"spaceMap\");\r\n        this.scene.bringToTop(\"spaceMap\");\r\n    };\r\n    StarSceneControllerScene.prototype.update = function (time, delta) {\r\n        var cam = this.scene.get(\"space\").cameras.main;\r\n        var scrollX = cam.scrollX, scrollY = cam.scrollY, zoom = cam.zoom;\r\n        var rf = (1 - 1 / zoom);\r\n        for (var i = 0; i < this.starLayers.length; i++) {\r\n            var tileSprite = this.starLayers[i];\r\n            tileSprite.setTileScale(zoom);\r\n            tileSprite.setTilePosition(rf * cam.width + scrollX * this.scrollValues[i] | 0, rf * cam.height + scrollY * this.scrollValues[i] | 0);\r\n        }\r\n    };\r\n    StarSceneControllerScene.prototype.updateToRenderTexture = function (rt, cam, tileX, tileY) {\r\n        var starLayers = this.starLayers;\r\n        var zoom = cam.zoom;\r\n        for (var i = 0; i < starLayers.length; i++) {\r\n            var tileSprite = starLayers[i];\r\n            tileSprite.setTileScale(zoom);\r\n            tileSprite.setTilePosition(tileX, tileY);\r\n            rt.batchDraw(tileSprite, tileSprite.x, tileSprite.y);\r\n        }\r\n    };\r\n    return StarSceneControllerScene;\r\n}(Phaser.Scene));\r\nexports.default = StarSceneControllerScene;\r\n//# sourceMappingURL=StarSceneControllerScene.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EntryScene_1 = require(\"./scenes/EntryScene\");\r\nvar SpaceScene_1 = require(\"./scenes/space/SpaceScene\");\r\nvar SpaceCameraControllerScene_1 = require(\"./scenes/space/SpaceCameraControllerScene\");\r\nvar SpaceDebugScene_1 = require(\"./scenes/space/SpaceDebugScene\");\r\nvar SpaceUIDebugScene_1 = require(\"./scenes/space/SpaceUIDebugScene\");\r\nvar StarSceneControllerScene_1 = require(\"./scenes/space/StarSceneControllerScene\");\r\nvar SpaceLogicScene_1 = require(\"./scenes/space/SpaceLogicScene\");\r\nvar PlanetScene_1 = require(\"./scenes/planet/PlanetScene\");\r\nvar PlanetLogicScene_1 = require(\"./scenes/planet/PlanetLogicScene\");\r\nvar PlanetEffectsScene_1 = require(\"./scenes/planet/PlanetEffectsScene\");\r\nvar PlanetUIScene_1 = require(\"./scenes/planet/PlanetUIScene\");\r\nvar PlanetBackScene_1 = require(\"./scenes/planet/PlanetBackScene\");\r\nvar PlanetLoaderScene_1 = require(\"./scenes/planet/PlanetLoaderScene\");\r\nvar SpaceUIScene_1 = require(\"./scenes/space/SpaceUIScene\");\r\nvar SpaceEffectsScene_1 = require(\"./scenes/space/SpaceEffectsScene\");\r\nvar SpaceMapScene_1 = require(\"./scenes/space/SpaceMapScene\");\r\nvar config = {\r\n    type: Phaser.WEBGL,\r\n    width: 800,\r\n    height: 450,\r\n    scale: {\r\n        mode: Phaser.Scale.ScaleModes.FIT,\r\n        autoCenter: Phaser.Scale.CENTER_BOTH,\r\n        autoRound: true\r\n    },\r\n    input: {\r\n        gamepad: true\r\n    },\r\n    pixelArt: true,\r\n    disableContextMenu: true,\r\n    antialiasGL: false,\r\n    antialias: false,\r\n    batchSize: 128,\r\n    scene: [\r\n        EntryScene_1.default,\r\n        SpaceScene_1.default, SpaceCameraControllerScene_1.default, SpaceDebugScene_1.default,\r\n        SpaceUIDebugScene_1.default, StarSceneControllerScene_1.default, SpaceLogicScene_1.default, SpaceUIScene_1.default, SpaceEffectsScene_1.default, SpaceMapScene_1.default,\r\n        PlanetScene_1.default, PlanetBackScene_1.default, PlanetLogicScene_1.default, PlanetLoaderScene_1.default, PlanetUIScene_1.default, PlanetEffectsScene_1.default\r\n    ],\r\n    seed: \"testing\"\r\n};\r\nvar game = new Phaser.Game(config);\r\nwindow.game = game;\r\ndocument.body.style.overflow = 'hidden';\r\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}